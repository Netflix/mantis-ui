(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["clusters"],{"0170":function(e,t,a){"use strict";var r=a("5984"),s=a.n(r);a.d(t,"default",(function(){return s.a}))},"04f2":function(e,t,a){e.exports={"job-cluster-config-detail-box":"JobClusterConfigDetail_job-cluster-config-detail-box_32wjK","job-cluster-config-detail-box-header":"JobClusterConfigDetail_job-cluster-config-detail-box-header_y9DJQ"}},"0609":function(e,t,a){e.exports={"box-card":"JobClusterSubmitJobPage_box-card_3rRdZ"}},"0b3f":function(e,t,a){e.exports={"stage-worker-widget":"JobClusterStageSchedulingOptionsFormCard_stage-worker-widget_2gCQv","lightning-bolt":"JobClusterStageSchedulingOptionsFormCard_lightning-bolt_3DVd0"}},"0b9c":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"hover","body-style":e.bodyStyle}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("font-awesome-icon",{attrs:{icon:"sliders-h"}}),e._v("\n     "+e._s(e.title)+" -\n    "),a("el-checkbox",{attrs:{value:e.shouldOverride,border:"",disabled:e.disableOverrideToggle},on:{change:e.onToggleOverride}},[e._v("Override Defaults")])],1),e.shouldOverride?a("div",[e.filteredParams.length?a("div",e._l(e.filteredParams,(function(t){return a("el-form-item",{key:t.key,attrs:{"label-width":"200px",prop:e.formPropPath+"."+t.index+".override",rules:e.calculateRule(t)}},[a("div",{attrs:{slot:"label"},slot:"label"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.key}},[a("el-tag",{staticClass:"top-spacing",class:e.$style["parameter-label"],attrs:{type:"info","disable-transitions":!0}},[e._v(e._s(t.key))])],1),t.value.required?a("div",{class:e.$style["parameter-label-required"]},[a("i",{staticClass:"el-icon-warning"}),e._v(" required\n          ")]):e._e()],1),a("div",{class:e.$style["parameter-config"]},["Boolean"===t.value.parameterType?a("span",[a("el-select",{attrs:{placeholder:""},model:{value:t.override,callback:function(a){e.$set(t,"override",a)},expression:"parameter.override"}},[a("el-option",{attrs:{label:"True",value:"true"}}),a("el-option",{attrs:{label:"False",value:"false"}})],1),a("br")],1):a("span",[a("el-input",{attrs:{type:"textarea",rows:1,autosize:""},model:{value:t.override,callback:function(a){e.$set(t,"override",a)},expression:"parameter.override"}})],1),e._v("\n          Parameter name:\n          "),a("strong",[e._v(e._s(t.key))]),a("br"),t.value.description?a("span",[e._v("\n            Description:\n            "),a("strong",{staticClass:"primary-text"},[e._v(e._s(t.value.description))]),a("br")]):e._e(),e._v("\n          Default Value:\n          "),a("strong",[e._v(e._s(t.value.defaultValue))]),a("br"),e._v("Parameter Type:\n          "),a("strong",[e._v(e._s(t.value.parameterType))]),a("br"),e._v("Validator Description:\n          "),a("strong",[e._v(e._s(t.value.validatorDescription))])])])})),1):a("div",[e._v("No parameters available to override.")])]):e.filteredDefaultParams.length?a("div",[e._v("\n    Default Parameters will be used:\n    "),a("div",{staticClass:"spacing-small"},e._l(e.filteredDefaultParams,(function(t){return a("div",{key:t.key,staticClass:"vertical-spacing-small"},[a("strong",[e._v(e._s(t.key))]),e._v("\n        :\n        "+e._s(t.value)+"\n      ")])})),0)]):e._e()])},s=[],o=a("3787"),n=a.n(o),i=a("8bbc"),l=a.n(i),c=a("dcdc"),u=a.n(c),d=a("299c"),m=a.n(d),f=a("e772"),b=a.n(f),p=a("4e4b"),h=a.n(p),g=a("f3ad"),v=a.n(g),_=a("a4c4"),C=a.n(_),y=a("2a27"),S={name:"JobParametersConfigCardFormCard",components:{[C.a.name]:C.a,[v.a.name]:v.a,[h.a.name]:h.a,[b.a.name]:b.a,[m.a.name]:m.a,[u.a.name]:u.a,[l.a.name]:l.a,[n.a.name]:n.a},props:{showSystemParams:{type:Boolean,required:!0},parameters:{type:Array,required:!0},formPropPath:{type:String,required:!0},shouldOverride:{type:Boolean,required:!0},defaultParameters:{type:Array,default:null},disableOverrideToggle:{type:Boolean,value:!1}},computed:{bodyStyle(){return this.shouldOverride||this.filteredDefaultParams.length?{padding:"20px",height:"auto"}:{padding:"0",height:"0"}},title(){return this.showSystemParams?"System Parameters":"Parameters"},filteredParams(){return this.showSystemParams?this.parameters.filter(e=>Object(y["a"])(e)):this.parameters.filter(e=>!Object(y["a"])(e))},filteredDefaultParams(){return this.defaultParameters?this.showSystemParams?this.defaultParameters.filter(e=>Object(y["a"])(e)):this.defaultParameters.filter(e=>!Object(y["a"])(e)):[]}},methods:{onToggleOverride(e){this.$emit("update:shouldOverride",e)},calculateRule(e){const t=Object(y["a"])(e)?"System Property":"Job Property",a={required:!!e.value.required,message:`${t} '${e.key}' is required`,trigger:"change"};return a}}},j=S,x=a("7e3b"),J=a("2877");function w(e){this["$style"]=x["default"].locals||x["default"]}var $=Object(J["a"])(j,r,s,!1,w,null,null);t["a"]=$.exports},"0cd3":function(e,t,a){"use strict";function r(e=[]){const t=e.find(e=>"ScalingReason"===e.name);if(t&&t.value)try{return JSON.parse(t.value)}catch(a){return console.debug("ClusterCreatePage: Unable to parse master config JSON for scaling reasons."),[]}return[]}a.d(t,"a",(function(){return r}))},1429:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"full-height vertical layout flex"},[a("h2",[e._v("Mantis Job Clusters")]),a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoadingList,expression:"isLoadingList"}]},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-row",{attrs:{type:"flex",gutter:10}},[a("el-col",{staticClass:"layout horizontal center",attrs:{span:24}},[a("el-input",{class:e.$style["job-cluster-filter-input"],attrs:{"prefix-icon":"el-icon-search",placeholder:"Search by Cluster Name",clearable:""},on:{input:e.throttledUpdateRouteWithFilters},model:{value:e.clusterIdSearchFilter,callback:function(t){e.clusterIdSearchFilter=t},expression:"clusterIdSearchFilter"}}),a("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"Filter by Job Label",clearable:""},on:{input:e.throttledUpdateRouteWithFilters},model:{value:e.clusterLabelSearchFilter,callback:function(t){e.clusterLabelSearchFilter=t},expression:"clusterLabelSearchFilter"}})],1),a("el-col",{staticClass:"layout horizontal center-center"},[a("strong",[e._v(e._s(e.totalNumberJobClusters))]),e._v(" Job Clusters\n        ")]),a("el-col",{staticClass:"text-right"},[a("router-link",{attrs:{to:"/clusters/create"}},[a("el-button",{attrs:{type:"success",plain:""}},[e._v("\n              Create a New Job Cluster\n            ")])],1)],1)],1)],1),e.jobClustersList.length?a("div",{class:e.$style["job-cluster-table"]},e._l(e.jobClustersList,(function(t){return a("div",{key:t.name},[a("JobClusterItem",{attrs:{cluster:t},on:{"on-tag-click":e.onTagClick}}),a("div",{class:e.$style["job-cluster-table-row-line"]})],1)})),0):a("div",[e._v("\n      No Data\n    ")]),a("el-pagination",{staticClass:"top-spacing",attrs:{background:"",layout:"prev, pager, next, sizes, total","page-sizes":[15,25,50,100],"current-page":e.currentPage,"page-size":e.pageSize,total:e.totalNumberJobClusters},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},s=[],o=a("101e"),n=a.n(o),i=a("eedf"),l=a.n(i),c=a("f3ad"),u=a.n(c),d=a("c2cc"),m=a.n(d),f=a("0f6c"),b=a.n(f),p=a("a4c4"),h=a.n(p),g=a("4360"),v=a("2f62"),_=a("f7fe"),C=a.n(_),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.cluster?a("div",{staticClass:"flex layout horizontal justified center",class:e.$style["job-cluster-item"]},[a("div",[a("router-link",{attrs:{tag:"a",to:"/clusters/"+e.cluster.name}},[e._v("\n      "+e._s(e.cluster.name)+"\n    ")]),a("SpecialLabels",{attrs:{labels:e.cluster.labels},on:{"on-tag-click":e.onTagClick}})],1),a("div",[e.cluster.disabled?a("el-tag",{class:e.$style["job-tag"],attrs:{"disable-transitions":!0,type:"danger",size:"mini"}},[e._v("\n      v"),a("strong",[e._v(e._s(e.cluster.latestVersion))]),e._v(" (Disabled)\n    ")]):a("el-tag",{class:e.$style["job-tag"],attrs:{type:"info",size:"mini","disable-transitions":!0}},[e._v("\n      v"),a("strong",[e._v(e._s(e.cluster.latestVersion))])])],1)]):e._e()},S=[],j=a("8bbc"),x=a.n(j),J=a("bb6d"),w={name:"JobClusterItem",components:{[x.a.name]:x.a,SpecialLabels:J["a"]},props:{cluster:{type:Object,required:!0}},methods:{onTagClick({tag:e}){this.$emit("on-tag-click",{tag:e})}}},$=w,P=a("5b6f"),k=a("2877");function O(e){this["$style"]=P["default"].locals||P["default"]}var F=Object(k["a"])($,y,S,!1,O,null,null),A=F.exports,T=a("63e0"),I={name:"JobClustersPage",components:{[h.a.name]:h.a,[b.a.name]:b.a,[m.a.name]:m.a,[u.a.name]:u.a,[l.a.name]:l.a,[n.a.name]:n.a,JobClusterItem:A},data(){return{clusterIdSearchFilter:this.$route.query.matching,clusterLabelSearchFilter:this.$route.query.labels}},computed:{...Object(v["d"])({isLoadingList:e=>e.jobClusters.isLoadingList,jobClustersList:e=>e.jobClusters.list,pageSize:e=>e.jobClusters.pageSize,totalNumberJobClusters:e=>e.jobClusters.total,currentPage:e=>e.jobClusters.pageNumber})},created(){this.fetchJobClusters()},beforeRouteUpdate(e,t,a){a(),this.fetchJobClusters()},methods:{handleSizeChange(e){this.$router.push({query:{pageSize:e}})},handleCurrentChange(e){this.$router.push({query:{page:e,pageSize:this.pageSize}})},onTagClick({tag:e}){const t=`${e.labelName}=${e.labelValue}`;this.clusterLabelSearchFilter=t,this.updateRouteWithFilters()},calculateOffset(e){return this.pageSize*(e-1)},fetchJobClusters(){const e=this.clusterIdSearchFilter,t=this.clusterLabelSearchFilter;g["a"].dispatch(T["a"].UpdateClusterTablePageSize,{size:parseInt(this.$route.query.pageSize)||15}),g["a"].dispatch(T["a"].UpdateClusterTablePageNumber,{pageNumber:parseInt(this.$route.query.page)||1}),g["a"].dispatch(T["a"].FetchJobClusters,{searchText:e,labelFilterText:t})},updateRouteWithFilters(){const e=this.clusterIdSearchFilter,t=this.clusterLabelSearchFilter;this.$router.push({query:{matching:e||void 0,labels:t||void 0}})},throttledUpdateRouteWithFilters:C()((function(){this.updateRouteWithFilters()}),500)}},E=I,D=a("6b55");function L(e){this["$style"]=D["default"].locals||D["default"]}var M=Object(k["a"])(E,r,s,!1,L,null,null);t["default"]=M.exports},2288:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cluster-create"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/clusters"}}},[e._v("Clusters")]),a("el-breadcrumb-item",{attrs:{to:{path:"/clusters/"+e.clusterId}}},[e._v("Cluster Detail")]),a("el-breadcrumb-item",[e._v("Update Cluster")])],1),a("h1",[e._v("Update a Job Cluster")]),a("h4",[e._v("\n    Update\n    "),a("span",{staticClass:"primary-text"},[e._v(e._s(e.clusterId))])]),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],ref:"updateClusterForm",staticClass:"text-left",attrs:{"status-icon":"",model:e.form,"label-width":e.formLabelWidth,size:"mini"}},[a("JobClusterUpdateOptionsFormCard",{class:e.$style["box-card"],attrs:{"cluster-id":e.clusterId,"update-type":e.form.updateType,"should-automatically-submit":e.form.shouldAutomaticallySubmit},on:{"update:updateType":function(t){return e.$set(e.form,"updateType",t)},"update:update-type":function(t){return e.$set(e.form,"updateType",t)},"update:shouldAutomaticallySubmit":function(t){return e.$set(e.form,"shouldAutomaticallySubmit",t)},"update:should-automatically-submit":function(t){return e.$set(e.form,"shouldAutomaticallySubmit",t)},"on-change-update-type":e.onChangeUpdateType}}),e.formReady?a("div",[e.form.updateType===e.JOB_CLUSTER_UPDATE_TYPES.STANDARD?a("div",[a("JobClusterArtifactFormCard",{class:e.$style["box-card"],attrs:{"latest-artifact":e.form.latestArtifact,"is-uploading-job-artifact":e.isUploadingJobArtifact,"is-loading-job-artifacts":e.isLoadingArtifactsList,"available-job-artifacts":e.availableArtifacts,"artifact-name":e.form.jobDefinition.jobJarFileLocation,version:e.form.jobDefinition.version},on:{"update:artifactName":function(t){return e.$set(e.form.jobDefinition,"jobJarFileLocation",t)},"update:artifact-name":function(t){return e.$set(e.form.jobDefinition,"jobJarFileLocation",t)},"update:version":function(t){return e.$set(e.form.jobDefinition,"version",t)},"on-artifact-select":e.onArtifactSelect,"on-upload-file":e.uploadJobArtifact}}),e.form.jobDefinition.jobJarFileLocation&&e.form.jobDefinition.schedulingInfo.stages?a("div",[a("JobClusterOwnerFormCard",{class:e.$style["box-card"],attrs:{owner:e.form.owner}}),a("JobClusterLabelsFormCard",{class:e.$style["box-card"],attrs:{"form-prop-path":"jobDefinition.labels",labels:e.form.jobDefinition.labels,"user-name":e.form.owner.name,"user-email":e.form.owner.contactEmail,"artifact-file":e.form.jobDefinition.jobJarFileLocation}}),a("JobClusterSlaOptionsFormCard",{class:e.$style["box-card"],attrs:{sla:e.form.jobDefinition.sla,"cron-active":e.form.jobDefinition.cronActive,"show-force-enable-controls":!1,"form-prop-path":"jobDefinition.sla"},on:{"update:cronActive":function(t){return e.$set(e.form.jobDefinition,"cronActive",t)},"update:cron-active":function(t){return e.$set(e.form.jobDefinition,"cronActive",t)}}}),a("EnableJobMasterFormCard",{class:e.$style["box-card"],attrs:{"is-enabled":e.form.enableJobMaster},on:{"update:isEnabled":function(t){return e.$set(e.form,"enableJobMaster",t)},"update:is-enabled":function(t){return e.$set(e.form,"enableJobMaster",t)},"on-toggle-job-master":e.onToggleJobMaster}}),e.form.enableJobMaster?a("JobClusterStageSchedulingOptionsFormCard",{class:e.$style["box-card"],attrs:{"stage-number":0,stage:e.form.jobDefinition.schedulingInfo.stages[0]}}):e._e(),e._l(e.form.jobDefinition.schedulingInfo.stages,(function(t,r){return a("div",{key:r},[0!==parseInt(r)?a("div",[a("JobClusterStageSchedulingOptionsFormCard",{class:e.$style["box-card"],attrs:{"stage-number":parseInt(r),stage:t}}),a("JobClusterStageScalingOptionsFormCard",{class:e.$style["box-card"],attrs:{"stage-number":parseInt(r),stage:t,"scaling-reasons":e.scalingReasons}})],1):e._e()])})),a("JobClusterMigrationStrategyFormCard",{class:e.$style["box-card"],attrs:{"migration-config":e.form.jobDefinition.migrationConfig}}),a("JobParametersConfigCardFormCard",{class:e.$style["box-card"],attrs:{"show-system-params":!1,parameters:e.form.availableParameters,"default-parameters":e.form.defaultParameters,"form-prop-path":"availableParameters","should-override":e.form.shouldOverrideJobParameters},on:{"update:shouldOverride":function(t){return e.$set(e.form,"shouldOverrideJobParameters",t)},"update:should-override":function(t){return e.$set(e.form,"shouldOverrideJobParameters",t)}}}),a("JobParametersConfigCardFormCard",{class:e.$style["box-card"],attrs:{"show-system-params":!0,parameters:e.form.availableParameters,"default-parameters":e.form.defaultParameters,"form-prop-path":"availableParameters","should-override":e.form.shouldOverrideSystemParameters},on:{"update:shouldOverride":function(t){return e.$set(e.form,"shouldOverrideSystemParameters",t)},"update:should-override":function(t){return e.$set(e.form,"shouldOverrideSystemParameters",t)}}})],2):e._e()],1):e.form.updateType===e.JOB_CLUSTER_UPDATE_TYPES.QUICK_ARTIFACT?a("div",[a("JobClusterArtifactFormCard",{class:e.$style["box-card"],attrs:{"latest-artifact":e.form.latestArtifact,"is-uploading-job-artifact":e.isUploadingJobArtifact,"is-loading-job-artifacts":e.isLoadingArtifactsList,"available-job-artifacts":e.availableArtifacts,"artifact-name":e.form.jobDefinition.jobJarFileLocation,version:e.form.jobDefinition.version},on:{"update:artifactName":function(t){return e.$set(e.form.jobDefinition,"jobJarFileLocation",t)},"update:artifact-name":function(t){return e.$set(e.form.jobDefinition,"jobJarFileLocation",t)},"update:version":function(t){return e.$set(e.form.jobDefinition,"version",t)},"on-artifact-select":e.onArtifactSelect,"on-upload-file":e.uploadJobArtifact}})],1):e.form.updateType===e.JOB_CLUSTER_UPDATE_TYPES.QUICK_SLA?a("div",[a("JobClusterSlaOptionsFormCard",{class:e.$style["box-card"],attrs:{sla:e.form.jobDefinition.sla,"cron-active":e.form.jobDefinition.cronActive,"show-force-enable-controls":!0,"should-force-enable":e.form.shouldForceEnable,"form-prop-path":"jobDefinition.sla"},on:{"update:cronActive":function(t){return e.$set(e.form.jobDefinition,"cronActive",t)},"update:cron-active":function(t){return e.$set(e.form.jobDefinition,"cronActive",t)},"update:shouldForceEnable":function(t){return e.$set(e.form,"shouldForceEnable",t)},"update:should-force-enable":function(t){return e.$set(e.form,"shouldForceEnable",t)}}})],1):e.form.updateType===e.JOB_CLUSTER_UPDATE_TYPES.QUICK_MIGRATION_STRATEGY?a("div",[a("JobClusterMigrationStrategyFormCard",{class:e.$style["box-card"],attrs:{"migration-config":e.form.jobDefinition.migrationConfig}})],1):e.form.updateType===e.JOB_CLUSTER_UPDATE_TYPES.QUICK_LABEL?a("div",[a("JobClusterLabelsFormCard",{class:e.$style["box-card"],attrs:{"form-prop-path":"jobDefinition.labels",labels:e.form.jobDefinition.labels,"user-name":e.form.owner.name,"user-email":e.form.owner.contactEmail,"artifact-file":e.form.jobDefinition.jobJarFileLocation}})],1):e._e(),e.allowSubmit?a("SubmitOrCancelFormCard",{class:e.$style["box-card"],attrs:{title:"Update or Cancel","submit-text":"Update Job Cluster","submit-icon":"el-icon-edit"},on:{"on-submit":e.onSubmit,"on-close":e.onClose}},[a("el-tag",{attrs:{type:"primary",size:"large"}},[e._v("\n          You are performing a\n          "),a("strong",[e._v(e._s(e.form.updateType)+" Update")]),e._v(" on\n          Job Cluster\n          "),a("strong",[e._v(e._s(e.clusterId))])])],1):e._e()],1):e._e()],1)],1)},s=[],o=a("c216"),n=a.n(o),i=a("76b9"),l=a.n(i),c=a("8bbc"),u=a.n(c),d=a("4105"),m=a.n(d),f=a("3dfe"),b=a("de7c"),p=a("9fe0"),h=a("b217"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v("Job Cluster Update Options")]),a("div",[a("el-form-item",{attrs:{label:"Job Cluster Name"}},[e._v(e._s(e.clusterId))]),a("el-form-item",{attrs:{label:"Update Type"}},[a("el-radio-group",{on:{change:e.onSelect},model:{value:e.localUpdateType,callback:function(t){e.localUpdateType=t},expression:"localUpdateType"}},[a("el-radio",{attrs:{label:e.JOB_CLUSTER_UPDATE_TYPES.STANDARD}}),a("el-radio",{attrs:{label:e.JOB_CLUSTER_UPDATE_TYPES.QUICK_ARTIFACT}}),a("el-radio",{attrs:{label:e.JOB_CLUSTER_UPDATE_TYPES.QUICK_SLA}}),a("el-radio",{attrs:{label:e.JOB_CLUSTER_UPDATE_TYPES.QUICK_MIGRATION_STRATEGY}}),a("el-radio",{attrs:{label:e.JOB_CLUSTER_UPDATE_TYPES.QUICK_LABEL}})],1),e.title?a("el-alert",{staticClass:"top-spacing",attrs:{title:e.title,type:"info",closable:!1,"show-icon":""}}):e._e()],1),e.localUpdateType===e.JOB_CLUSTER_UPDATE_TYPES.QUICK_ARTIFACT?a("el-form-item",{attrs:{label:"Quick Update Options"}},[a("el-checkbox",{on:{change:e.onCheck},model:{value:e.localShouldAutomaticallySubmit,callback:function(t){e.localShouldAutomaticallySubmit=t},expression:"localShouldAutomaticallySubmit"}},[e._v("Automatically submit job after Quick Artifact update")])],1):e._e()],1)])},v=[],_=a("3787"),C=a.n(_),y=a("dcdc"),S=a.n(y),j=a("6ac5"),x=a.n(j),J=a("f494"),w=a.n(J),$=a("e04d"),P=a.n($),k=a("a4c4"),O=a.n(k),F=a("c9d9"),A={name:"JobClusterUpdateOptionsFormCard",components:{[O.a.name]:O.a,[P.a.name]:P.a,[w.a.name]:w.a,[x.a.name]:x.a,[S.a.name]:S.a,[C.a.name]:C.a},props:{clusterId:{type:String,required:!0},updateType:{type:String,required:!0},shouldAutomaticallySubmit:{type:Boolean,required:!0}},data(){return{JOB_CLUSTER_UPDATE_TYPES:F["i"],localUpdateType:this.updateType,localShouldAutomaticallySubmit:this.shouldAutomaticallySubmit}},computed:{title(){let e="";switch(this.updateType){case F["i"].STANDARD:e="Standard is the default behavior and shows you all available options.";break;case F["i"].QUICK_ARTIFACT:e="Quickly update a Job Cluster artifact file and version without touching any other options.";break;case F["i"].QUICK_SLA:e="Quickly update a Job Cluster's SLA Options without touching any other options. The Job Cluster version remains the same.";break;case F["i"].QUICK_MIGRATION_STRATEGY:e="Quickly update a Job Cluster's Migration Strategy without touching any other options. The Job Cluster version remains the same.";break;case F["i"].QUICK_LABEL:e="Quickly update a Job Cluster's Labels without touching any other options. The Job Cluster version remains the same.";break;default:console.debug("JobClusterUpdateOptionsFormCard: Update type not matched")}return e}},methods:{onSelect(e){this.$emit("update:updateType",e),this.$emit("on-change-update-type",e)},onCheck(e){this.$emit("update:shouldAutomaticallySubmit",e)}}},T=A,I=a("2877"),E=Object(I["a"])(T,g,v,!1,null,null,null),D=E.exports,L=a("f6ca"),M=a("ed82"),N=a("0b9c"),R=a("8317"),U=a("420c"),q=a("ce44"),B=a("4360"),V=a("2f62"),z=a("63e0"),K=a("b166"),H=a("0cd3"),Q=a("a85b"),G={name:"JobClusterCreatePage",components:{[m.a.name]:m.a,[u.a.name]:u.a,[l.a.name]:l.a,[n.a.name]:n.a,JobClusterUpdateOptionsFormCard:D,JobClusterArtifactFormCard:L["a"],JobClusterOwnerFormCard:h["a"],JobClusterLabelsFormCard:M["a"],JobClusterSlaOptionsFormCard:U["a"],JobClusterMigrationStrategyFormCard:p["a"],EnableJobMasterFormCard:q["a"],JobClusterStageSchedulingOptionsFormCard:f["a"],JobClusterStageScalingOptionsFormCard:b["a"],JobParametersConfigCardFormCard:N["a"],SubmitOrCancelFormCard:R["a"]},data(){const e=()=>{const e=this.$route.query.updateType;return Object.values(F["i"]).find(t=>t.replace(/\s/g,"")===e)||F["i"].STANDARD};return{clusterId:this.$route.params.clusterId,inputMaxLength:100,formLabelWidth:"150px",formReady:!1,JOB_CLUSTER_UPDATE_TYPES:F["i"],isUploadingJobArtifact:!1,form:{latestArtifact:null,shouldAutomaticallySubmit:!0,shouldForceEnable:!1,availableParameters:[],defaultParameters:[],enableJobMaster:!1,shouldOverrideJobParameters:!1,shouldOverrideSystemParameters:!1,updateType:e(),jobDefinition:{name:this.$route.params.clusterId,user:this.$store.state.user.email,jobJarFileLocation:"",version:"",sla:{},parameters:[],labels:[],migrationConfig:{},cronActive:!1,schedulingInfo:{stages:null}},owner:{}}}},computed:{...Object(V["d"])({isLoading:e=>e.jobCluster.isLoadingJobClusterDetails,selectedJobCluster:e=>e.jobCluster.selectedJobCluster,scalingReasons:e=>{const t=e.metadata.masterConfigs;return Object(H["a"])(t)},availableArtifacts:e=>e.artifacts.artifactNames.filter(e=>/\.(jar|zip)$/.test(e)),isLoadingArtifactsList:e=>e.artifacts.isLoadingArtifactsList,selectedArtifactPropertiesJson:e=>e.artifact.selectedArtifactPropertiesJson}),allowSubmit(){return this.form.updateType!==F["i"].STANDARD&&this.form.updateType!==F["i"].QUICK_ARTIFACT||!!this.form.jobDefinition.jobJarFileLocation}},watch:{async selectedJobCluster(e){const t=e.jars[e.jars.length-1];this.form.latestArtifact=t,this.form.owner=JSON.parse(JSON.stringify(e.owner)),this.form.jobDefinition.labels=JSON.parse(JSON.stringify(e.labels)),this.form.jobDefinition.sla=JSON.parse(JSON.stringify(e.sla)),this.form.jobDefinition.migrationConfig=JSON.parse(JSON.stringify(e.migrationConfig)),this.form.enableJobMaster=e.isReadyForJobMaster&&!!t.schedulingInfo.stages[0],this.form.jobDefinition.cronActive=e.cronActive,this.form.defaultParameters=e.parameters.map((e,t)=>({key:e.name,index:t,value:e.value,override:""})),this.formReady=!0}},created(){B["a"].dispatch(z["a"].FetchMasterConfigs),B["a"].dispatch(z["a"].FetchJobClusterDetails,{clusterId:this.clusterId}),B["a"].dispatch(z["a"].FetchArtifacts)},methods:{async onArtifactSelect(e){await B["a"].dispatch(z["a"].FetchJobArtifact,{artifactName:e});const t=this.selectedArtifactPropertiesJson,a=this.form.latestArtifact;this.form.jobDefinition.version=`${t.version} ${Object(K["a"])(new Date,F["a"])}`;const r={};if(this.form.enableJobMaster&&(r[0]=a.schedulingInfo.stages[0]),t.jobInfo){const e=this.form.enableJobMaster?1:0;Object.keys(t.jobInfo.stages).length===Object.keys(a.schedulingInfo.stages).length-e?Object.entries(a.schedulingInfo.stages).forEach(([e,t])=>{0!==e&&(r[parseInt(e)]=t)}):Object.entries(t.jobInfo.stages).forEach(([e,t])=>Object(F["f"])())}this.form.jobDefinition.schedulingInfo={stages:JSON.parse(JSON.stringify(r))};const s=t.jobInfo?t.jobInfo.parameterInfo:{},o=Object.keys(s).map((e,t)=>({key:e,index:t,value:s[e],isSystemParameter:0===e.toLowerCase().indexOf("mantis"),override:""}));this.form.availableParameters=o},async uploadJobArtifact({file:e}){this.isUploadingJobArtifact=!0,await B["a"].dispatch(z["a"].UploadArtifact,{file:e}),B["a"].dispatch(z["a"].FetchArtifacts),this.isUploadingJobArtifact=!1},onChangeUpdateType(e){const t=e.replace(/\s/g,"");this.$router.push({query:{updateType:t}})},onToggleJobMaster(e){e?this.form.jobDefinition.schedulingInfo.stages[0]=Object(F["c"])():this.$delete(this.form.jobDefinition.schedulingInfo.stages,0)},onSubmit(){const e=this.$refs["updateClusterForm"],t=this.clusterId;e.validate(async(a,r)=>{if(!a){const e=r[Object.keys(r)[0]];return e.length?this.$message.error("Unable to update job cluster due to error: "+e[0].message):this.$message.error("Unable to update job cluster. Check form above for errors."),!1}{const a=this.form.updateType;let r=null;switch(a){case F["i"].STANDARD:const e=Object(Q["a"])(this.form.jobDefinition,this.form.owner,this.form.availableParameters,this.form.defaultParameters,this.form.shouldOverrideJobParameters,this.form.shouldOverrideSystemParameters);r=await B["a"].dispatch(z["a"].UpdateJobClusterStandard,{clusterId:t,jobCluster:e});break;case F["i"].QUICK_ARTIFACT:const a={version:this.form.jobDefinition.version,url:"http://"+this.form.jobDefinition.jobJarFileLocation,skipsubmit:!this.form.shouldAutomaticallySubmit};r=await B["a"].dispatch(z["a"].UpdateJobClusterQuickArtifact,{clusterId:t,artifactConfig:a});break;case F["i"].QUICK_SLA:const s={min:this.form.jobDefinition.sla.min,max:this.form.jobDefinition.sla.max,cronspec:this.form.jobDefinition.sla.cronSpec,cronpolicy:this.form.jobDefinition.sla.cronPolicy,forceenable:this.form.shouldForceEnable};r=await B["a"].dispatch(z["a"].UpdateJobClusterQuickSla,{clusterId:t,slaConfig:s});break;case F["i"].QUICK_MIGRATION_STRATEGY:const o={migrationConfig:this.form.jobDefinition.migrationConfig};r=await B["a"].dispatch(z["a"].UpdateJobClusterQuickMigrationStrategy,{clusterId:t,migrationConfig:o});break;case F["i"].QUICK_LABEL:const n=this.form.jobDefinition.labels;r=await B["a"].dispatch(z["a"].UpdateJobClusterQuickLabel,{clusterId:t,labels:n});break;default:console.debug("JobClusterUpdatePage: Update type not matched to submit")}r&&!r.errors?this.$router.push({path:"/clusters/"+t},()=>{this.$message.success("Successfully updated job cluster "+t)}):this.$scrollTo(e.$el,{offset:-200})}})},onClose(){this.$router.push("/clusters/"+this.clusterId)}}},W=G,Y=a("fc04");function X(e){this["$style"]=Y["default"].locals||Y["default"]}var Z=Object(I["a"])(W,r,s,!1,X,null,null);t["default"]=Z.exports},2784:function(e,t,a){"use strict";var r=a("f290"),s=a.n(r);a.d(t,"default",(function(){return s.a}))},"2a27":function(e,t,a){"use strict";function r(e){return 0===e.key.toLowerCase().indexOf("mantis")}function s(e,t,a,s){const o=e.filter(e=>!r(e)),n=e.filter(e=>r(e)),i=t.filter(e=>!r(e)),l=t.filter(e=>r(e)),c=e=>e.filter(e=>e.override),u=(e,t)=>e.map(e=>({name:e.key,value:e[t]}));let d=[];const m="override",f="value";return a?d=[...d,...u(c(o),m)]:i.length&&(d=[...d,...u(i,f)]),s?d=[...d,...u(c(n),m)]:l.length&&(d=[...d,...u(l),f]),d}a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s}))},"3d60":function(e,t,a){"use strict";var r=a("0609"),s=a.n(r);a.d(t,"default",(function(){return s.a}))},"3dfe":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e.isMasterStage?a("span",[e._v("Job Master - ")]):e._e(),e._v("Stage "+e._s(e.stageNumber)+" - Scheduling Information -\n    "),a("el-checkbox",{attrs:{border:""},model:{value:e.isEditable,callback:function(t){e.isEditable=t},expression:"isEditable"}},[e._v("Edit")])],1),e.isEditable?a("div",[a("el-form-item",{attrs:{label:"Number of workers"}},[e.isMasterStage?a("span",[e._v(e._s(e.stage.numberOfInstances))]):a("el-input-number",{attrs:{min:e.defaults.numWorkers.min,max:e.defaults.numWorkers.max},model:{value:e.stage.numberOfInstances,callback:function(t){e.$set(e.stage,"numberOfInstances",t)},expression:"stage.numberOfInstances"}})],1),a("el-form-item",{attrs:{label:"CPU Core(s)"}},[a("el-input-number",{attrs:{min:e.defaults.cpuCores.min,max:e.defaults.cpuCores.max,step:.1},model:{value:e.stage.machineDefinition.cpuCores,callback:function(t){e.$set(e.stage.machineDefinition,"cpuCores",t)},expression:"stage.machineDefinition.cpuCores"}})],1),a("el-form-item",{attrs:{label:"Memory (MB)"}},[a("el-input-number",{attrs:{min:e.defaults.memoryMB.min,max:e.defaults.memoryMB.max},model:{value:e.stage.machineDefinition.memoryMB,callback:function(t){e.$set(e.stage.machineDefinition,"memoryMB",t)},expression:"stage.machineDefinition.memoryMB"}})],1),a("el-form-item",{attrs:{label:"Disk (MB)"}},[a("el-input-number",{attrs:{min:e.defaults.diskMB.min,max:e.defaults.diskMB.max},model:{value:e.stage.machineDefinition.diskMB,callback:function(t){e.$set(e.stage.machineDefinition,"diskMB",t)},expression:"stage.machineDefinition.diskMB"}})],1),a("el-form-item",{attrs:{label:"Network (Mbps)"}},[a("el-input-number",{attrs:{min:e.defaults.networkMbps.min,max:e.defaults.networkMbps.max},model:{value:e.stage.machineDefinition.networkMbps,callback:function(t){e.$set(e.stage.machineDefinition,"networkMbps",t)},expression:"stage.machineDefinition.networkMbps"}})],1)],1):a("div",[e.isMasterStage?a("el-alert",{attrs:{title:"Default settings are probably OK here.",type:"info","show-icon":""}}):e._e(),a("div",{class:e.$style["stage-worker-widget"]},[e._v("\n      # Workers: "),a("strong",[e._v(e._s(e.stage.numberOfInstances))]),a("br"),e._v("\n      CPUs: "),a("strong",[e._v(e._s(e.stage.machineDefinition.cpuCores))]),a("el-divider",{attrs:{direction:"vertical"}}),e._l(e.stage.machineDefinition.cpuCores,(function(t){return a("font-awesome-icon",{key:t,class:e.$style["lightning-bolt"],attrs:{icon:"bolt"}})})),a("br"),e._v("\n      RAM: "),a("strong",[e._v(e._s(e.stage.machineDefinition.memoryMB)+" MB")]),a("br"),e._v("\n      Disk: "),a("strong",[e._v(e._s(e.stage.machineDefinition.diskMB)+" MB")]),a("br"),e._v("\n      Network: "),a("strong",[e._v(e._s(e.stage.machineDefinition.networkMbps)+" MB")])],2)],1)])},s=[],o=a("3787"),n=a.n(o),i=a("7bc3"),l=a.n(i),c=a("e450"),u=a.n(c),d=a("dcdc"),m=a.n(d),f=a("e04d"),b=a.n(f),p=a("a4c4"),h=a.n(p),g={name:"JobClusterStageSchedulingOptionsFormCard",components:{[h.a.name]:h.a,[b.a.name]:b.a,[m.a.name]:m.a,[u.a.name]:u.a,[l.a.name]:l.a,[n.a.name]:n.a},props:{stageNumber:{type:Number,required:!0},stage:{type:Object,required:!0}},data(){return{isEditable:!1,defaults:{numWorkers:{min:1,max:1e3},cpuCores:{min:1,max:8},memoryMB:{min:1,max:28e3},diskMB:{min:1,max:2e4},networkMbps:{min:1,max:1024}}}},computed:{isMasterStage(){return 0===this.stageNumber}}},v=g,_=a("afbe"),C=a("2877");function y(e){this["$style"]=_["default"].locals||_["default"]}var S=Object(C["a"])(v,r,s,!1,y,null,null);t["a"]=S.exports},"420c":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("font-awesome-icon",{attrs:{icon:"clock"}}),e._v(" SLA Options")],1),a("div",[a("el-form-item",{attrs:{label:"SLA Min/Max",prop:e.formPropPath,rules:e.slaRule}},[a("el-input-number",{attrs:{min:0,max:e.slaUpperLimit},model:{value:e.sla.min,callback:function(t){e.$set(e.sla,"min",t)},expression:"sla.min"}}),a("el-divider",{attrs:{direction:"vertical"}},[e._v("/")]),a("el-input-number",{attrs:{min:0,max:e.slaUpperLimit},model:{value:e.sla.max,callback:function(t){e.$set(e.sla,"max",t)},expression:"sla.max"}})],1),a("el-divider"),a("el-form-item",{attrs:{label:"Show Cron options"}},[a("el-switch",{attrs:{value:e.cronActive},on:{change:e.onToggleCronActive}})],1),e.cronActive?a("div",[a("el-form-item",{attrs:{label:"Cron Spec",prop:e.formPropPath+".cronSpec",rules:e.cronSpecRule}},[a("el-tooltip",{attrs:{effect:"dark",content:"Seconds (0-59) Minutes (0-59) Hours (0-23) Day of month (1-31) Month (1-12) Day of week (1-7) Year (1970-2099)"}},[a("el-input",{attrs:{placeholder:"0 0 0 0 0 ?"},model:{value:e.sla.cronSpec,callback:function(t){e.$set(e.sla,"cronSpec",t)},expression:"sla.cronSpec"}})],1)],1),a("el-form-item",{attrs:{label:"Cron Policy"}},[a("el-select",{model:{value:e.sla.cronPolicy,callback:function(t){e.$set(e.sla,"cronPolicy",t)},expression:"sla.cronPolicy"}},e._l(e.CRON_POLICY_OPTIONS,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1):e._e(),e.showForceEnableControls?a("el-form-item",{attrs:{label:"Force Enable"}},[a("el-switch",{attrs:{value:e.shouldForceEnable},on:{change:e.onToggleForceEnable}}),e._v("\n       \n      "),a("el-tag",{attrs:{type:"info"}},[e._v("Force Enable if the job cluster is disabled")])],1):e._e()],1)])},s=[],o=a("3787"),n=a.n(o),i=a("7bc3"),l=a.n(i),c=a("299c"),u=a.n(c),d=a("e772"),m=a.n(d),f=a("4e4b"),b=a.n(f),p=a("8bbc"),h=a.n(p),g=a("b35b"),v=a.n(g),_=a("e450"),C=a.n(_),y=a("f3ad"),S=a.n(y),j=a("a4c4"),x=a.n(j),J=a("c9d9"),w={name:"ClusterSlaOptionsFormCard",components:{[x.a.name]:x.a,[S.a.name]:S.a,[C.a.name]:C.a,[v.a.name]:v.a,[h.a.name]:h.a,[b.a.name]:b.a,[m.a.name]:m.a,[u.a.name]:u.a,[l.a.name]:l.a,[n.a.name]:n.a},props:{sla:{type:Object,required:!0},cronActive:{type:Boolean,required:!1},formPropPath:{type:String,required:!0},showForceEnableControls:{type:Boolean,required:!0},shouldForceEnable:{type:Boolean,required:!1}},data(){const e=(e,{min:t,max:a},r)=>{t>a?r(new Error(`SLA min of ${t} can not be greater than SLA max of ${a}`)):r()};return{slaUpperLimit:1e3,CRON_POLICY_OPTIONS:J["b"],cronSpecRule:{required:!0,message:"Cron spec required",trigger:"blur"},slaRule:{validator:e,trigger:"change"}}},methods:{onToggleCronActive(e){e?(this.sla.cronPolicy=J["b"][0].value,this.sla.cronSpec=null):(this.sla.cronPolicy=null,this.sla.cronSpec=null),this.$emit("update:cronActive",e)},onToggleForceEnable(e){this.$emit("update:shouldForceEnable",e)}}},$=w,P=a("2877"),k=Object(P["a"])($,r,s,!1,null,null,null);t["a"]=k.exports},"471d":function(e,t,a){e.exports={"job-cluster-item":"JobClusterItem_job-cluster-item_2VHIj"}},"49e2":function(e,t,a){"use strict";var r=a("563f"),s=a.n(r);a.d(t,"default",(function(){return s.a}))},"4deb":function(e,t,a){e.exports={"user-provided-type-input":"JobSlaOptionsFormCard_user-provided-type-input_3eC7R"}},5046:function(e,t,a){e.exports={"box-card":"JobClusterUpdatePage_box-card_1ROCw"}},5309:function(e,t,a){e.exports={"parameter-label":"JobParametersConfigCardFormCard_parameter-label_3TS2c","parameter-label-required":"JobParametersConfigCardFormCard_parameter-label-required_LpjsX","parameter-config":"JobParametersConfigCardFormCard_parameter-config_pxlR4"}},"563f":function(e,t,a){e.exports={"box-card":"JobClusterDetailPage_box-card_1zLoF"}},5984:function(e,t,a){e.exports={"cluster-label-item":"JobClusterLabelsFormCard_cluster-label-item_10JN3"}},"5abf":function(e,t,a){"use strict";var r=a("6e22"),s=a.n(r);a.d(t,"default",(function(){return s.a}))},"5b6f":function(e,t,a){"use strict";var r=a("471d"),s=a.n(r);a.d(t,"default",(function(){return s.a}))},"5b91":function(e,t,a){"use strict";var r=a("4deb"),s=a.n(r);a.d(t,"default",(function(){return s.a}))},"678a":function(e,t,a){e.exports={"job-cluster-item":"JobClustersPage_job-cluster-item_2BpzV","job-tag":"JobClustersPage_job-tag_2abTr","job-cluster-table":"JobClustersPage_job-cluster-table_1DYPS","job-cluster-table-row-line":"JobClustersPage_job-cluster-table-row-line_2z8Ix","job-cluster-filter-input":"JobClustersPage_job-cluster-filter-input_2csll"}},"6ac5":function(e,t,a){e.exports=function(e){var t={};function a(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(r,s,function(t){return e[t]}.bind(null,s));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/dist/",a(a.s=79)}({0:function(e,t,a){"use strict";function r(e,t,a,r,s,o,n,i){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=a,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),n?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},c._ssrRegister=l):s&&(l=i?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}a.d(t,"a",(function(){return r}))},4:function(e,t){e.exports=a("d010")},79:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(e._elTag,{tag:"component",staticClass:"el-radio-group",attrs:{role:"radiogroup"},on:{keydown:e.handleKeydown}},[e._t("default")],2)},s=[];r._withStripped=!0;var o=a(4),n=a.n(o),i=Object.freeze({LEFT:37,UP:38,RIGHT:39,DOWN:40}),l={name:"ElRadioGroup",componentName:"ElRadioGroup",inject:{elFormItem:{default:""}},mixins:[n.a],props:{value:{},size:String,fill:String,textColor:String,disabled:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},_elTag:function(){return(this.$vnode.data||{}).tag||"div"},radioGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},created:function(){var e=this;this.$on("handleChange",(function(t){e.$emit("change",t)}))},mounted:function(){var e=this.$el.querySelectorAll("[type=radio]"),t=this.$el.querySelectorAll("[role=radio]")[0];![].some.call(e,(function(e){return e.checked}))&&t&&(t.tabIndex=0)},methods:{handleKeydown:function(e){var t=e.target,a="INPUT"===t.nodeName?"[type=radio]":"[role=radio]",r=this.$el.querySelectorAll(a),s=r.length,o=[].indexOf.call(r,t),n=this.$el.querySelectorAll("[role=radio]");switch(e.keyCode){case i.LEFT:case i.UP:e.stopPropagation(),e.preventDefault(),0===o?(n[s-1].click(),n[s-1].focus()):(n[o-1].click(),n[o-1].focus());break;case i.RIGHT:case i.DOWN:o===s-1?(e.stopPropagation(),e.preventDefault(),n[0].click(),n[0].focus()):(n[o+1].click(),n[o+1].focus());break;default:break}}},watch:{value:function(e){this.dispatch("ElFormItem","el.form.change",[this.value])}}},c=l,u=a(0),d=Object(u["a"])(c,r,s,!1,null,null,null);d.options.__file="packages/radio/src/radio-group.vue";var m=d.exports;m.install=function(e){e.component(m.name,m)};t["default"]=m}})},"6b55":function(e,t,a){"use strict";var r=a("678a"),s=a.n(r);a.d(t,"default",(function(){return s.a}))},"6e22":function(e,t,a){e.exports={"lightning-bolt":"JobClusterStageDetail_lightning-bolt_HwiWg"}},"78ff":function(e,t,a){e.exports={"job-item":"JobClusterJobListCard_job-item_YxACU"}},7956:function(e,t,a){"use strict";var r=a("78ff"),s=a.n(r);a.d(t,"default",(function(){return s.a}))},"797c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}]},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/clusters"}}},[e._v("Clusters")]),a("el-breadcrumb-item",[e._v("Cluster Detail")])],1),a("h2",{staticClass:"primary-text"},[e._v(e._s(e.clusterId))]),a("strong",[e._v(e._s(e.activeJobs.length))]),e._v("\n  active "+e._s(e.pluralize(e.activeJobs.length,"job","jobs"))+"\n  "),e.selectedJobCluster?a("el-row",[a("el-col",{staticClass:"text-left",attrs:{span:12}},[a("div",[e._v("\n        Latest Job Cluster version is:\n        "),a("strong",[e._v(e._s(e.selectedJobCluster.latestVersion))])]),a("div",[e._v("\n        Latest running Job version is:\n        "),a("strong",[e._v(e._s(e.latestActiveJobVersion))])])]),a("el-col",{staticClass:"text-right",attrs:{span:12}},[a("div",[a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-s-tools"},on:{click:e.submitLatestJobVersion}},[e._v("Submit latest version "+e._s(e.selectedJobCluster.latestVersion))]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.updateCluster}},[e._v("Update Cluster")])],1),a("div",{staticClass:"top-spacing-small"},[e.selectedJobCluster.disabled?a("el-button",{attrs:{size:"mini",plain:"",icon:"el-icon-open",type:"success"},on:{click:e.enableCluster}},[e._v("Enable Cluster")]):a("el-button",{attrs:{size:"mini",plain:"",icon:"el-icon-turn-off",type:"warning"},on:{click:e.disableCluster}},[e._v("Disable Cluster")]),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:e.deleteCluster}},[e._v("\n          Delete Cluster\n        ")])],1)])],1):e._e(),e.selectedJobCluster?a("el-row",{staticClass:"layout vertical center"},[a("el-card",{class:e.$style["box-card"],attrs:{shadow:"hover"}},[a("template",{slot:"header"},[a("div",[e._v("Job Cluster Details")])]),a("div",{staticClass:"text-left"},[a("div",{staticClass:"vertical-spacing-small"},[e._v("\n          Job Cluster is\n          "),e.selectedJobCluster.disabled?a("span",{staticClass:"danger-text"},[e._v("Disabled")]):a("span",{staticClass:"success-text"},[e._v("Enabled")])]),a("div",{staticClass:"vertical-spacing-small"},[e._v("\n          SLA min/max:\n          "),a("strong",[e._v(e._s(e.selectedJobCluster.sla.min))]),e._v("/\n          "),a("strong",[e._v(e._s(e.selectedJobCluster.sla.max))])]),e.selectedJobCluster.sla.cronSpec?a("div",{staticClass:"vertical-spacing-small"},[e._v("\n          Cron Spec:\n          "),a("strong",[e._v(e._s(e.selectedJobCluster.sla.cronSpec))])]):e._e(),e.selectedJobCluster.sla.cronPolicy?a("div",{staticClass:"vertical-spacing-small"},[e._v("\n          Cron Policy:\n          "),a("strong",[e._v(e._s(e.selectedJobCluster.sla.cronPolicy))])]):e._e(),a("div",{staticClass:"vertical-spacing-small"},e._l(e.selectedJobCluster.labels,(function(t){return a("span",{key:t.name,staticClass:"job-tag"},[a("el-tag",{staticClass:"job-label",attrs:{type:"info",size:"small","disable-transitions":!0},on:{click:function(a){return e.onTagClick(t)}}},[e._v(e._s(t.name)+" : "+e._s(t.value))])],1)})),0),a("div",{staticClass:"vertical-spacing-small"},[a("span",{staticClass:"primary-text"},[e._v("Owner name:")]),e._v("\n          "+e._s(e.selectedJobCluster.owner.name||"N/A")+"\n        ")]),a("div",{staticClass:"vertical-spacing-small"},[a("span",{staticClass:"primary-text"},[e._v("Owner email:")]),e._v("\n          "+e._s(e.selectedJobCluster.owner.contactEmail||"N/A")+"\n        ")]),e.selectedJobCluster.owner.teamName?a("div",{staticClass:"vertical-spacing-small"},[a("span",{staticClass:"primary-text"},[e._v("Team name:")]),e._v("\n          "+e._s(e.selectedJobCluster.owner.teamName)+"\n        ")]):e._e(),e.selectedJobCluster.owner.repo?a("div",{staticClass:"vertical-spacing-small"},[a("span",{staticClass:"primary-text"},[e._v("Repo:")]),e._v("\n          "+e._s(e.selectedJobCluster.owner.repo)+"\n        ")]):e._e(),e.selectedJobCluster.owner.description?a("div",{staticClass:"vertical-spacing-small"},[a("span",{staticClass:"primary-text"},[e._v("Description:")]),e._v("\n          "+e._s(e.selectedJobCluster.owner.description)+"\n        ")]):e._e(),e.latestJar?a("JobClusterConfigDetail",{attrs:{"cluster-id":e.clusterId,"job-cluster":e.selectedJobCluster,jar:e.latestJar}}):a("div",[e._v("No active job cluster version")]),e.showPreviousVersionsMode?a("el-button",{staticClass:"vertical-spacing-small",attrs:{type:"info",size:"mini"},on:{click:e.togglePreviousVersionMode}},[e._v("Hide previous Job Cluster versions")]):e._e(),!e.showPreviousVersionsMode&&e.previousJars.length?a("el-button",{staticClass:"vertical-spacing-small",attrs:{size:"mini",type:"info"},on:{click:e.togglePreviousVersionMode}},[e._v("Show "+e._s(e.previousJars.length)+" previous Job Cluster versions")]):e._e(),e.showPreviousVersionsMode?a("div",[a("div",[e._v("\n            Previous\n            "),a("strong",[e._v(e._s(e.previousJars.length))]),e._v(" Job Cluster versions:\n          ")]),e._l(e.previousJars,(function(t){return a("div",{key:t.uploadedAt,staticClass:"spacing-small"},[a("JobClusterConfigDetail",{attrs:{"cluster-id":e.clusterId,jar:t}})],1)}))],2):e._e()],1)],2),a("JobClusterJobListCard",{class:e.$style["box-card"],attrs:{"active-jobs":e.activeJobs,"non-active-jobs":e.nonActiveJobs},on:{"on-kill-job":e.killJob}})],1):e._e()],1)},s=[],o=a("c216"),n=a.n(o),i=a("76b9"),l=a.n(i),c=a("8bbc"),u=a.n(c),d=a("eedf"),m=a.n(d),f=a("c2cc"),b=a.n(f),p=a("0f6c"),h=a.n(p),g=a("a4c4"),v=a.n(g),_=a("2966"),C=a("b166"),y=a("c9d9"),S=a("4360"),j=a("2f62"),x=a("63e0"),J=a("6e5b"),w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.$style["job-cluster-config-detail-box"]},[e.jobCluster?a("div",{staticClass:"primary-text",class:e.$style["job-cluster-config-detail-box-header"]},[e._v("\n    Latest Version:\n    "),a("strong",[e._v(e._s(e.jobCluster.latestVersion))])]):e._e(),a("div",{staticClass:"spacing-small"},[e.jobCluster?e._e():a("span",[e._v("\n      Version:\n      "),a("strong",[e._v(e._s(e.jar.version))]),a("br")]),a("span",[e._v("\n      Artifact:\n      "),a("strong",[e._v(e._s(e.formatFileNameFromPath(e.jar.url)))]),a("br")]),a("span",[e._v("\n      Updated at:\n      "),a("strong",[e._v(e._s(e.formatDateLong(e.jar.uploadedAt)))]),a("br")])]),e._l(e.jar.schedulingInfo.stages,(function(e,t){return a("JobClusterStageDetail",{key:t,staticClass:"spacing-small",attrs:{"stage-number":t,stage:e}})})),e.jobCluster?a("div",[a("div",{staticClass:"primary-text",class:e.$style["job-cluster-config-detail-box-header"]},[e._v("Job Cluster Migration Strategy")]),a("div",{staticClass:"spacing-small"},[a("span",[e._v("\n        Strategy:\n        "),a("strong",[e._v(e._s(e.jobCluster.migrationConfig.strategy))]),a("br")]),a("span",[e._v("\n        Updated at:\n        "),a("strong",[e._v(e._s(e.migrationStrategyConfigString))]),a("br")])])]):e._e(),e.jobCluster&&e.jobCluster.parameters.length?a("div",[e.jobCluster&&e.jobCluster.parameters.length?a("div",{staticClass:"primary-text",class:e.$style["job-cluster-config-detail-box-header"]},[e._v("\n      Job Cluster\n      "),a("strong",[e._v(e._s(e.jar.version))]),e._v(" Default Parameters\n    ")]):e._e(),a("div",{staticClass:"spacing-small"},e._l(e.jobCluster.parameters,(function(t){return a("div",{key:t.name,staticClass:"vertical-spacing-small"},[a("strong",[e._v(e._s(t.name))]),e._v("\n        :\n        "+e._s(t.value)+"\n      ")])})),0)]):e._e(),a("el-button",{staticClass:"spacing-small",attrs:{type:"success",icon:"el-icon-s-tools",size:"mini"},on:{click:function(t){return e.submitVersion(e.jar)}}},[e._v("Submit version "+e._s(e.jar.version))])],2)},$=[],P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("span",[e._v("\n      Stage\n      "),a("strong",[e._v(e._s(e.stageNumber))]),e._v(": \n    ")]),a("span",[a("el-tag",{attrs:{type:"primary","disable-transitions":!0}},[e._v("\n        CPUs:\n        "),a("strong",[e._v(e._s(e.stage.machineDefinition.cpuCores))]),e._v(" \n        "),e._l(e.stage.machineDefinition.cpuCores,(function(t){return a("font-awesome-icon",{key:t,class:e.$style["lightning-bolt"],attrs:{icon:"bolt"}})})),e._v(" RAM:\n        "),a("strong",[e._v(e._s(e.stage.machineDefinition.memoryMB)+" MB")]),e._v(" -\n        Disk:\n        "),a("strong",[e._v(e._s(e.stage.machineDefinition.diskMB)+" MB")]),e._v(" -\n        Net:\n        "),a("strong",[e._v(e._s(e.stage.machineDefinition.networkMbps)+" Mbps")])],2),a("span",[e._v("\n         x\n        "),a("strong",[e._v(e._s(e.stage.numberOfInstances))])])],1)]),e.stage.scalable?a("div",{staticClass:"vertical-spacing-small"},[a("span",[e.stage.scalable?a("el-tag",{attrs:{size:"mini","disable-transitions":!0}},[a("font-awesome-icon",{attrs:{icon:"cog"}}),a("font-awesome-icon",{attrs:{icon:"arrows-alt-h"}}),a("font-awesome-icon",{attrs:{icon:"cog"}}),a("font-awesome-icon",{attrs:{icon:"cog"}}),e._v(" Manual Scale Enabled\n      ")],1):e._e(),e.stage.scalingPolicy?a("el-tag",{staticClass:"horizontal-spacing-small",attrs:{size:"mini","disable-transitions":!0}},[a("font-awesome-icon",{attrs:{icon:"cog"}}),a("font-awesome-icon",{attrs:{icon:"arrows-alt-h"}}),a("font-awesome-icon",{attrs:{icon:"cog"}}),a("font-awesome-icon",{attrs:{icon:"cog"}}),e._v(" Autoscale Enabled\n      ")],1):e._e()],1)]):e._e(),e.stage.scalingPolicy?a("AutoscaleSettingsSummary",{attrs:{"scaling-policy":e.stage.scalingPolicy}}):e._e(),e.stage.scalingPolicy&&e.stage.scalingPolicy.strategies?a("AutoscaleStrategiesSummary",{attrs:{strategies:e.stage.scalingPolicy.strategies}}):e._e(),e._l(e.stage.hardConstraints,(function(t){return a("div",{key:t},[e._v("Hard Constraint: "+e._s(t))])})),e._l(e.stage.softConstraints,(function(t){return a("div",{key:t},[e._v("Soft Constraint: "+e._s(t))])}))],2)},k=[],O=a("375f"),F=a("a2f6"),A={name:"JobClusterStageDetail",components:{[u.a.name]:u.a,AutoscaleSettingsSummary:O["a"],AutoscaleStrategiesSummary:F["a"]},props:{stageNumber:{type:String,required:!0},stage:{type:Object,required:!0}}},T=A,I=a("5abf"),E=a("2877");function D(e){this["$style"]=I["default"].locals||I["default"]}var L=Object(E["a"])(T,P,k,!1,D,null,null),M=L.exports,N={name:"JobClusterConfigDetail",components:{[m.a.name]:m.a,JobClusterStageDetail:M},props:{clusterId:{type:String,required:!0},jar:{type:Object,required:!0},jobCluster:{type:Object,default:null}},computed:{migrationStrategyConfigString(){let e="";const t=this.jobCluster.migrationConfig.strategy;switch(t){case"PERCENTAGE":const t=this.jobCluster.migrationConfig.configString;try{const a=JSON.parse(t.replace(/\\"/g,'"'));e=`Migrate ${a.percentToMove}% of workers every ${a.intervalMs} ms`}catch(a){e="Error parsing Migration Strategy JSON"}break}return e}},methods:{formatFileNameFromPath:_["a"],formatDateLong(e){return e?Object(C["a"])(e,y["g"]):""},submitVersion(e){this.$router.push({path:`/clusters/${this.clusterId}/submit`,query:{clusterVersion:this.jar.version}})}}},R=N,U=a("f2fa");function q(e){this["$style"]=U["default"].locals||U["default"]}var B=Object(E["a"])(R,w,$,!1,q,null,null),V=B.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"hover"}},[a("template",{slot:"header"},[a("div",[e._v("Jobs")])]),e.activeJobs.length?a("div",e._l(e.activeJobs,(function(t){return a("div",{key:t.jobId,staticClass:"spacing-small"},[a("JobClusterJobListItem",{attrs:{job:t},on:{"on-kill-job":e.killJob}})],1)})),0):a("div",[e._v("No active jobs")]),e.showArchivedJobsMode?a("el-button",{staticClass:"vertical-spacing-small",attrs:{type:"info",size:"mini"},on:{click:e.toggleArchivedJobsMode}},[e._v("Hide archived jobs")]):e._e(),!e.showArchivedJobsMode&&e.nonActiveJobs.length?a("el-button",{staticClass:"vertical-spacing-small",attrs:{size:"mini",type:"info"},on:{click:e.toggleArchivedJobsMode}},[e._v("Show "+e._s(e.nonActiveJobs.length)+" archived jobs")]):e._e(),e.showArchivedJobsMode?a("div",e._l(e.nonActiveJobs,(function(t){return a("div",{key:t.jobId,staticClass:"spacing-small"},[a("JobClusterJobListItem",{attrs:{job:t},on:{"on-kill-job":e.killJob}})],1)})),0):e._e()],2)},K=[],H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-left",class:e.$style["job-item"]},[a("StatusBadge",{class:e.$style["status-badge"],attrs:{status:e.job.jobMetadata.state}}),a("router-link",{attrs:{tag:"a",to:"/jobs/"+e.job.jobMetadata.jobId}},[a("strong",[e._v(e._s(e.job.jobMetadata.jobId))])]),a("div",[e._v("\n    Version:\n    "),a("strong",[e._v(e._s(e.job.jobMetadata.version))])]),a("div",[e._v("\n    User:\n    "),a("strong",[e._v(e._s(e.job.jobMetadata.user))])]),a("div",[e._v("\n    Submitted:\n    "),a("strong",[e._v(e._s(e.formatDateLong(e.job.jobMetadata.submittedAt)))])]),a("el-button",{staticClass:"danger-text vertical-spacing-small",attrs:{disabled:e.isJobAcceptedOrLaunched,size:"mini",type:"danger",icon:"el-icon-delete",plain:""},on:{click:function(t){return e.killJob(e.job)}}},[e._v("Kill Job")])],1)},Q=[],G=a("03c5"),W={name:"JobClusterJobListItem",components:{[m.a.name]:m.a,StatusBadge:G["a"]},props:{job:{type:Object,required:!0}},computed:{isJobAcceptedOrLaunched(){return"Accepted"===this.job.state||"Launched"===this.job.state}},methods:{formatDateLong(e){return e?Object(C["a"])(e,y["g"]):""},killJob(e){this.$emit("on-kill-job",{job:e})}}},Y=W,X=a("fca5");function Z(e){this["$style"]=X["default"].locals||X["default"]}var ee=Object(E["a"])(Y,H,Q,!1,Z,null,null),te=ee.exports,ae={name:"JobClusterJobListCard",components:{[v.a.name]:v.a,[m.a.name]:m.a,JobClusterJobListItem:te},props:{activeJobs:{type:Array,required:!0},nonActiveJobs:{type:Array,required:!0}},data(){return{showArchivedJobsMode:!1}},methods:{toggleArchivedJobsMode(){this.showArchivedJobsMode=!this.showArchivedJobsMode},killJob({job:e}){this.$emit("on-kill-job",{job:e})}}},re=ae,se=a("7956");function oe(e){this["$style"]=se["default"].locals||se["default"]}var ne=Object(E["a"])(re,z,K,!1,oe,null,null),ie=ne.exports,le={name:"JobClusterDetailPage",components:{[v.a.name]:v.a,[h.a.name]:h.a,[b.a.name]:b.a,[m.a.name]:m.a,[u.a.name]:u.a,[l.a.name]:l.a,[n.a.name]:n.a,JobClusterConfigDetail:V,JobClusterJobListCard:ie},data(){return{clusterId:this.$route.params.clusterId,showPreviousVersionsMode:!1}},computed:{...Object(j["d"])({isLoading:e=>e.jobCluster.isLoadingJobClusterDetails||e.jobCluster.isLoadingJobClusterJobs,selectedJobCluster:e=>e.jobCluster.selectedJobCluster,activeJobs:e=>{const t=e.jobCluster.jobsForSelectedJobCluster;return t.filter(e=>{const t=e.jobMetadata;return"Launched"===t.state||"Accepted"===t.state})},nonActiveJobs:e=>{const t=e.jobCluster.jobsForSelectedJobCluster;return t.filter(e=>{const t=e.jobMetadata;return"Launched"!==t.state&&"Accepted"!==t.state})},latestActiveJobVersion:e=>{const t=e.jobCluster.jobsForSelectedJobCluster,a=t[t.length-1];let r="Unknown";return a&&a.version&&(r=Object(C["a"])(parseInt(a.version),y["g"])),r}}),latestJar(){const e=this.selectedJobCluster.jars;return e&&e.length?e[e.length-1]:null},previousJars(){const e=this.selectedJobCluster.jars;return e&&e.length?e.slice(0,-1).reverse():[]}},created(){this.refresh()},methods:{pluralize:J["a"],formatFileNameFromPath:_["a"],submitLatestJobVersion(){this.$router.push({path:`/clusters/${this.clusterId}/submit`,query:{clusterVersion:this.selectedJobCluster.latestVersion}})},refresh(){S["a"].dispatch(x["a"].FetchJobClusterDetails,{clusterId:this.clusterId}),S["a"].dispatch(x["a"].FetchJobClusterJobs,{clusterId:this.clusterId})},enableCluster(){this.$confirm(`This will enable cluster ${this.clusterId}. Continue?`,"Enable Cluster",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{const e=await S["a"].dispatch(x["a"].EnableJobCluster,{clusterId:this.clusterId});if(e.errors){const t=e.errors[0];this.$message.error(`Enable cluster ${this.clusterId} failed due to: ${t.message}`)}else S["a"].dispatch(x["a"].FetchJobClusterDetails,{clusterId:this.clusterId}),this.$message.success(`Enable cluster ${this.clusterId} completed`)}).catch(e=>{this.$message.info(`Enable cluster ${this.clusterId} cancelled`)})},disableCluster(){this.$confirm(`This will disable cluster ${this.clusterId}. Continue?`,"Disable Cluster",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{const e=await S["a"].dispatch(x["a"].DisableJobCluster,{clusterId:this.clusterId});if(e.errors){const t=e.errors[0];this.$message.error(`Disable cluster ${this.clusterId} failed due to: ${t.message}`)}else S["a"].dispatch(x["a"].FetchJobClusterDetails,{clusterId:this.clusterId}),this.$message.success(`Disable cluster ${this.clusterId} completed`)}).catch(e=>{this.$message.info(`Disable cluster ${this.clusterId} cancelled`)})},deleteCluster(){this.activeJobs.length?this.$message.error("You must kill all running jobs before deleting a job cluster."):this.$confirm(`This will delete cluster ${this.clusterId}. Continue?`,"Delete Cluster",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{const e=await S["a"].dispatch(x["a"].DeleteJobCluster,{clusterId:this.clusterId});if(e.errors){const t=e.errors[0];this.$message.error(`Delete cluster ${this.clusterId} failed due to: ${t.message}`)}else this.$router.push({path:"/clusters"},()=>{this.$message.success(`Delete cluster ${this.clusterId} completed`)})}).catch(e=>{this.$message.info(`Delete cluster ${this.clusterId} cancelled`)})},updateCluster(){this.$router.push({path:`/clusters/${this.clusterId}/update`})},onTagClick(e){const t=`${e.name}=${e.value}`;this.$router.push({path:"/clusters",query:{labels:t||void 0}})},togglePreviousVersionMode(){this.showPreviousVersionsMode=!this.showPreviousVersionsMode},killJob({job:e}){const t=e.jobMetadata.jobId;this.$confirm(`This will kill the job ${t}. Continue?`,"Kill Job",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{const{errors:e}=await S["a"].dispatch(x["a"].KillJobs,{jobIds:[t]});e||(this.refresh(),this.$message.success(`Kill job ${t} completed`))}).catch(()=>{this.$message.info(`Kill job ${t} cancelled`)})}}},ce=le,ue=a("49e2");function de(e){this["$style"]=ue["default"].locals||ue["default"]}var me=Object(E["a"])(ce,r,s,!1,de,null,null);t["default"]=me.exports},"7a36":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cluster-create"},[a("h2",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/clusters"}}},[e._v("Clusters")]),a("el-breadcrumb-item",[e._v("Create Cluster")])],1),e._v("Cluster Create Page\n  ")],1),a("el-form",{ref:"createClusterForm",staticClass:"text-left",attrs:{"status-icon":"",model:e.form,"label-width":e.formLabelWidth,size:"mini"}},[a("JobClusterIdFormCard",{class:e.$style["box-card"],attrs:{"cluster-id":e.form.jobDefinition.name,"form-prop-path":"jobDefinition.name"},on:{"update:clusterId":function(t){return e.$set(e.form.jobDefinition,"name",t)},"update:cluster-id":function(t){return e.$set(e.form.jobDefinition,"name",t)}}}),a("JobClusterOwnerFormCard",{class:e.$style["box-card"],attrs:{owner:e.form.owner}}),a("JobClusterArtifactFormCard",{class:e.$style["box-card"],attrs:{"is-loading-job-artifacts":e.isLoadingArtifactsList,"is-uploading-job-artifact":e.isUploadingJobArtifact,"available-job-artifacts":e.availableArtifacts,"artifact-name":e.form.jobDefinition.jobJarFileLocation,version:e.form.jobDefinition.version},on:{"update:artifactName":function(t){return e.$set(e.form.jobDefinition,"jobJarFileLocation",t)},"update:artifact-name":function(t){return e.$set(e.form.jobDefinition,"jobJarFileLocation",t)},"update:version":function(t){return e.$set(e.form.jobDefinition,"version",t)},"on-artifact-select":e.onArtifactSelect,"on-upload-file":e.uploadJobArtifact}}),e.form.jobDefinition.jobJarFileLocation?a("div",[a("JobClusterLabelsFormCard",{class:e.$style["box-card"],attrs:{"form-prop-path":"jobDefinition.labels",labels:e.form.jobDefinition.labels,"user-name":e.form.owner.name,"user-email":e.form.owner.contactEmail,"artifact-file":e.form.jobDefinition.jobJarFileLocation}}),a("JobClusterSlaOptionsFormCard",{class:e.$style["box-card"],attrs:{sla:e.form.jobDefinition.sla,"cron-active":e.form.jobDefinition.cronActive,"show-force-enable-controls":!1,"support-force-enabled":!1,"form-prop-path":"jobDefinition.sla"},on:{"update:cronActive":function(t){return e.$set(e.form.jobDefinition,"cronActive",t)},"update:cron-active":function(t){return e.$set(e.form.jobDefinition,"cronActive",t)}}}),a("EnableJobMasterFormCard",{class:e.$style["box-card"],attrs:{"is-enabled":e.form.enableJobMaster},on:{"update:isEnabled":function(t){return e.$set(e.form,"enableJobMaster",t)},"update:is-enabled":function(t){return e.$set(e.form,"enableJobMaster",t)},"on-toggle-job-master":e.onToggleJobMaster}}),e.form.enableJobMaster?a("JobClusterStageSchedulingOptionsFormCard",{class:e.$style["box-card"],attrs:{"stage-number":0,stage:e.form.jobDefinition.schedulingInfo.stages[0]}}):e._e(),e._l(e.form.jobDefinition.schedulingInfo.stages,(function(t,r){return a("div",{key:r},[0!==parseInt(r)?a("div",[a("JobClusterStageSchedulingOptionsFormCard",{class:e.$style["box-card"],attrs:{"stage-number":parseInt(r),stage:t}}),a("JobClusterStageScalingOptionsFormCard",{class:e.$style["box-card"],attrs:{"stage-number":parseInt(r),stage:t,"scaling-reasons":e.scalingReasons}})],1):e._e()])})),a("JobClusterMigrationStrategyFormCard",{class:e.$style["box-card"],attrs:{"migration-config":e.form.jobDefinition.migrationConfig}}),a("JobParametersConfigCardFormCard",{class:e.$style["box-card"],attrs:{"show-system-params":!1,parameters:e.form.availableParameters,"form-prop-path":"availableParameters","should-override":e.form.shouldOverrideJobParameters},on:{"update:shouldOverride":function(t){return e.$set(e.form,"shouldOverrideJobParameters",t)},"update:should-override":function(t){return e.$set(e.form,"shouldOverrideJobParameters",t)}}}),a("JobParametersConfigCardFormCard",{class:e.$style["box-card"],attrs:{"show-system-params":!0,parameters:e.form.availableParameters,"form-prop-path":"availableParameters","should-override":e.form.shouldOverrideSystemParameters},on:{"update:shouldOverride":function(t){return e.$set(e.form,"shouldOverrideSystemParameters",t)},"update:should-override":function(t){return e.$set(e.form,"shouldOverrideSystemParameters",t)}}}),a("SubmitOrCancelFormCard",{class:e.$style["box-card"],attrs:{title:"Setup or Cancel","submit-text":"Create a Job Cluster","submit-icon":"el-icon-circle-plus"},on:{"on-submit":e.onSubmit,"on-close":e.onClose}},[e.form.jobDefinition.name?a("el-tag",{attrs:{type:"primary",size:"large"}},[e._v("\n          You are creating a Job Cluster named\n          "),a("strong",[e._v(e._s(e.form.jobDefinition.name))])]):a("span",{staticClass:"danger-text"},[e._v("Please enter a Job Cluster Name above")])],1)],2):e._e()],1)],1)},s=[],o=a("c216"),n=a.n(o),i=a("76b9"),l=a.n(i),c=a("8bbc"),u=a.n(c),d=a("4105"),m=a.n(d),f=a("3dfe"),b=a("de7c"),p=a("9fe0"),h=a("0b9c"),g=a("420c"),v=a("b217"),_=a("f6ca"),C=a("ed82"),y=a("ce44"),S=a("8317"),j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v("Job Cluster Name")]),a("div",[a("el-form-item",{attrs:{label:"Job Cluster Name",prop:e.formPropPath,rules:e.rules}},[a("el-input",{attrs:{value:e.clusterId,maxlength:e.inputMaxLength,autofocus:""},on:{input:function(t){return e.$emit("update:clusterId",t)}}})],1)],1)])},x=[],J=a("3787"),w=a.n(J),$=a("f3ad"),P=a.n($),k=a("a4c4"),O=a.n(k),F={name:"JobClusterIdFormCard",components:{[O.a.name]:O.a,[P.a.name]:P.a,[w.a.name]:w.a},props:{clusterId:{type:String,required:!0},formPropPath:{type:String,default:null}},data(){const e=(e,t,a)=>{const r=/^[A-Za-z]+[A-Za-z0-9+-_=:;]*/;r.test(t)?a():a(new Error("Cluster name must this regular expression "+r))};return{inputMaxLength:100,rules:[{required:!0,message:"Please input a cluster name",trigger:"blur"},{validator:e,trigger:"blur"}]}}},A=F,T=a("2877"),I=Object(T["a"])(A,j,x,!1,null,null,null),E=I.exports,D=a("4360"),L=a("2f62"),M=a("63e0"),N=a("0cd3"),R=a("c9d9"),U=a("b166"),q=a("a85b"),B={name:"JobClusterCreatePage",components:{[m.a.name]:m.a,[u.a.name]:u.a,[l.a.name]:l.a,[n.a.name]:n.a,JobClusterIdFormCard:E,JobClusterStageSchedulingOptionsFormCard:f["a"],JobClusterStageScalingOptionsFormCard:b["a"],JobClusterMigrationStrategyFormCard:p["a"],JobParametersConfigCardFormCard:h["a"],JobClusterLabelsFormCard:C["a"],JobClusterSlaOptionsFormCard:g["a"],JobClusterOwnerFormCard:v["a"],JobClusterArtifactFormCard:_["a"],EnableJobMasterFormCard:y["a"],SubmitOrCancelFormCard:S["a"]},data(){return{inputMaxLength:100,formLabelWidth:"150px",isUploadingJobArtifact:!1,form:{availableParameters:[],enableJobMaster:!1,shouldOverrideJobParameters:!1,shouldOverrideSystemParameters:!1,jobDefinition:{name:"",user:this.$store.state.user.email,jobJarFileLocation:"",version:"",sla:{min:0,max:0,cronSpec:null,cronPolicy:null},parameters:[],labels:[],migrationConfig:{strategy:R["k"][0].value,configString:R["d"]},cronActive:!1,schedulingInfo:{stages:null}},owner:{name:this.$store.state.user.name,contactEmail:this.$store.state.user.email,teamName:"",description:"",repo:""}}}},computed:{...Object(L["d"])({scalingReasons:e=>{const t=e.metadata.masterConfigs;return Object(N["a"])(t)},availableArtifacts:e=>e.artifacts.artifactNames.filter(e=>/\.(jar|zip)$/.test(e)),isLoadingArtifactsList:e=>e.artifacts.isLoadingArtifactsList,selectedArtifactPropertiesJson:e=>e.artifact.selectedArtifactPropertiesJson})},created(){D["a"].dispatch(M["a"].FetchMasterConfigs),D["a"].dispatch(M["a"].FetchArtifacts)},methods:{onToggleJobMaster(e){e?this.form.jobDefinition.schedulingInfo.stages[0]=Object(R["c"])():this.$delete(this.form.jobDefinition.schedulingInfo.stages,0)},async onArtifactSelect(e){await D["a"].dispatch(M["a"].FetchJobArtifact,{artifactName:e});const t=this.selectedArtifactPropertiesJson;this.form.jobDefinition.version=`${t.version} ${Object(U["a"])(new Date,R["a"])}`;const a={};t.jobInfo&&Object.keys(t.jobInfo.stages).forEach(e=>{a[parseInt(e)+1]=Object(R["f"])()}),this.form.jobDefinition.schedulingInfo={stages:a};const r=t.jobInfo?t.jobInfo.parameterInfo:{},s=Object.keys(r).map((e,t)=>({key:e,index:t,value:r[e],override:""}));this.form.availableParameters=s},async uploadJobArtifact({file:e}){this.isUploadingJobArtifact=!0,await D["a"].dispatch(M["a"].UploadArtifact,{file:e}),D["a"].dispatch(M["a"].FetchArtifacts),this.isUploadingJobArtifact=!1},onSubmit(){const e=this.$refs["createClusterForm"];e.validate(async(t,a)=>{if(!t){const e=a[Object.keys(a)[0]];return e.length?this.$message.error("Unable to create new job cluster due to error: "+e[0].message):this.$message.error("Unable to create new job cluster. Check form above for errors."),!1}{const t=Object(q["a"])(this.form.jobDefinition,this.form.owner,this.form.availableParameters,[],this.form.shouldOverrideJobParameters,this.form.shouldOverrideSystemParameters),a=t.jobDefinition.name,{errors:r}=await D["a"].dispatch(M["a"].CreateJobCluster,{jobCluster:t});r?this.$scrollTo(e.$el,{offset:-200}):this.$router.push({path:"/clusters/"+a},()=>{this.$message.success("Successfully created job cluster "+a)})}})},onClose(){this.$router.push("/clusters")}}},V=B,z=a("c83e");function K(e){this["$style"]=z["default"].locals||z["default"]}var H=Object(T["a"])(V,r,s,!1,K,null,null);t["default"]=H.exports},"7e3b":function(e,t,a){"use strict";var r=a("5309"),s=a.n(r);a.d(t,"default",(function(){return s.a}))},8317:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.title))]),a("div",[a("el-form-item",{attrs:{label:"Summary"}},[e._t("default")],2),a("el-button",{attrs:{type:"success",icon:e.submitIcon},on:{click:e.onSubmit}},[e._v(e._s(e.submitText))]),a("el-button",{on:{click:e.onClose}},[e._v("Cancel / Close")])],1)])},s=[],o=a("eedf"),n=a.n(o),i=a("3787"),l=a.n(i),c=a("a4c4"),u=a.n(c),d={name:"SubmitOrCancelFormCard",components:{[u.a.name]:u.a,[l.a.name]:l.a,[n.a.name]:n.a},props:{title:{type:String,required:!0},submitText:{type:String,required:!0},submitIcon:{type:String,required:!0}},methods:{onSubmit(){this.$emit("on-submit")},onClose(){this.$emit("on-close")}}},m=d,f=a("2877"),b=Object(f["a"])(m,r,s,!1,null,null,null);t["a"]=b.exports},8350:function(e,t,a){e.exports={"job-item":"JobClusterJobListItem_job-item_2eajA","status-badge":"JobClusterJobListItem_status-badge_fpuLW"}},8576:function(e,t,a){e.exports={"delete-icon":"JobClusterLabelsPair_delete-icon_34X1s","label-value-item":"JobClusterLabelsPair_label-value-item_30xKv"}},"89a9":function(e,t,a){e.exports=function(e){var t={};function a(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(r,s,function(t){return e[t]}.bind(null,s));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/dist/",a(a.s=57)}({0:function(e,t,a){"use strict";function r(e,t,a,r,s,o,n,i){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=a,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),n?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},c._ssrRegister=l):s&&(l=i?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}a.d(t,"a",(function(){return r}))},11:function(e,t){e.exports=a("2bb5")},26:function(e,t){e.exports=a("92fa")},42:function(e,t){e.exports=a("c284")},57:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition-group",{class:["el-upload-list","el-upload-list--"+e.listType,{"is-disabled":e.disabled}],attrs:{tag:"ul",name:"el-list"}},e._l(e.files,(function(t){return a("li",{key:t.uid,class:["el-upload-list__item","is-"+t.status,e.focusing?"focusing":""],attrs:{tabindex:"0"},on:{keydown:function(a){if(!("button"in a)&&e._k(a.keyCode,"delete",[8,46],a.key,["Backspace","Delete","Del"]))return null;!e.disabled&&e.$emit("remove",t)},focus:function(t){e.focusing=!0},blur:function(t){e.focusing=!1},click:function(t){e.focusing=!1}}},[e._t("default",["uploading"!==t.status&&["picture-card","picture"].indexOf(e.listType)>-1?a("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:t.url,alt:""}}):e._e(),a("a",{staticClass:"el-upload-list__item-name",on:{click:function(a){e.handleClick(t)}}},[a("i",{staticClass:"el-icon-document"}),e._v(e._s(t.name)+"\n      ")]),a("label",{staticClass:"el-upload-list__item-status-label"},[a("i",{class:{"el-icon-upload-success":!0,"el-icon-circle-check":"text"===e.listType,"el-icon-check":["picture-card","picture"].indexOf(e.listType)>-1}})]),e.disabled?e._e():a("i",{staticClass:"el-icon-close",on:{click:function(a){e.$emit("remove",t)}}}),e.disabled?e._e():a("i",{staticClass:"el-icon-close-tip"},[e._v(e._s(e.t("el.upload.deleteTip")))]),"uploading"===t.status?a("el-progress",{attrs:{type:"picture-card"===e.listType?"circle":"line","stroke-width":"picture-card"===e.listType?6:2,percentage:e.parsePercentage(t.percentage)}}):e._e(),"picture-card"===e.listType?a("span",{staticClass:"el-upload-list__item-actions"},[e.handlePreview&&"picture-card"===e.listType?a("span",{staticClass:"el-upload-list__item-preview",on:{click:function(a){e.handlePreview(t)}}},[a("i",{staticClass:"el-icon-zoom-in"})]):e._e(),e.disabled?e._e():a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(a){e.$emit("remove",t)}}},[a("i",{staticClass:"el-icon-delete"})])]):e._e()],{file:t})],2)})),0)},s=[];r._withStripped=!0;var o=a(6),n=a.n(o),i=a(42),l=a.n(i),c={name:"ElUploadList",mixins:[n.a],data:function(){return{focusing:!1}},components:{ElProgress:l.a},props:{files:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},handlePreview:Function,listType:String},methods:{parsePercentage:function(e){return parseInt(e,10)},handleClick:function(e){this.handlePreview&&this.handlePreview(e)}}},u=c,d=a(0),m=Object(d["a"])(u,r,s,!1,null,null,null);m.options.__file="packages/upload/src/upload-list.vue";var f=m.exports,b=a(26),p=a.n(b);function h(e,t,a){var r=void 0;r=a.response?""+(a.response.error||a.response):a.responseText?""+a.responseText:"fail to post "+e+" "+a.status;var s=new Error(r);return s.status=a.status,s.method="post",s.url=e,s}function g(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(a){return t}}function v(e){if("undefined"!==typeof XMLHttpRequest){var t=new XMLHttpRequest,a=e.action;t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var r=new FormData;e.data&&Object.keys(e.data).forEach((function(t){r.append(t,e.data[t])})),r.append(e.filename,e.file,e.file.name),t.onerror=function(t){e.onError(t)},t.onload=function(){if(t.status<200||t.status>=300)return e.onError(h(a,e,t));e.onSuccess(g(t))},t.open("post",a,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var s=e.headers||{};for(var o in s)s.hasOwnProperty(o)&&null!==s[o]&&t.setRequestHeader(o,s[o]);return t.send(r),t}}var _=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-upload-dragger",class:{"is-dragover":e.dragover},on:{drop:function(t){return t.preventDefault(),e.onDrop(t)},dragover:function(t){return t.preventDefault(),e.onDragover(t)},dragleave:function(t){t.preventDefault(),e.dragover=!1}}},[e._t("default")],2)},C=[];_._withStripped=!0;var y={name:"ElUploadDrag",props:{disabled:Boolean},inject:{uploader:{default:""}},data:function(){return{dragover:!1}},methods:{onDragover:function(){this.disabled||(this.dragover=!0)},onDrop:function(e){if(!this.disabled&&this.uploader){var t=this.uploader.accept;this.dragover=!1,t?this.$emit("file",[].slice.call(e.dataTransfer.files).filter((function(e){var a=e.type,r=e.name,s=r.indexOf(".")>-1?"."+r.split(".").pop():"",o=a.replace(/\/.*$/,"");return t.split(",").map((function(e){return e.trim()})).filter((function(e){return e})).some((function(e){return/\..+$/.test(e)?s===e:/\/\*$/.test(e)?o===e.replace(/\/\*$/,""):!!/^[^\/]+\/[^\/]+$/.test(e)&&a===e}))}))):this.$emit("file",e.dataTransfer.files)}}}},S=y,j=Object(d["a"])(S,_,C,!1,null,null,null);j.options.__file="packages/upload/src/upload-dragger.vue";var x,J,w=j.exports,$={inject:["uploader"],components:{UploadDragger:w},props:{type:String,action:{type:String,required:!0},name:{type:String,default:"file"},data:Object,headers:Object,withCredentials:Boolean,multiple:Boolean,accept:String,onStart:Function,onProgress:Function,onSuccess:Function,onError:Function,beforeUpload:Function,drag:Boolean,onPreview:{type:Function,default:function(){}},onRemove:{type:Function,default:function(){}},fileList:Array,autoUpload:Boolean,listType:String,httpRequest:{type:Function,default:v},disabled:Boolean,limit:Number,onExceed:Function},data:function(){return{mouseover:!1,reqs:{}}},methods:{isImage:function(e){return-1!==e.indexOf("image")},handleChange:function(e){var t=e.target.files;t&&this.uploadFiles(t)},uploadFiles:function(e){var t=this;if(this.limit&&this.fileList.length+e.length>this.limit)this.onExceed&&this.onExceed(e,this.fileList);else{var a=Array.prototype.slice.call(e);this.multiple||(a=a.slice(0,1)),0!==a.length&&a.forEach((function(e){t.onStart(e),t.autoUpload&&t.upload(e)}))}},upload:function(e){var t=this;if(this.$refs.input.value=null,!this.beforeUpload)return this.post(e);var a=this.beforeUpload(e);a&&a.then?a.then((function(a){var r=Object.prototype.toString.call(a);if("[object File]"===r||"[object Blob]"===r){for(var s in"[object Blob]"===r&&(a=new File([a],e.name,{type:e.type})),e)e.hasOwnProperty(s)&&(a[s]=e[s]);t.post(a)}else t.post(e)}),(function(){t.onRemove(null,e)})):!1!==a?this.post(e):this.onRemove(null,e)},abort:function(e){var t=this.reqs;if(e){var a=e;e.uid&&(a=e.uid),t[a]&&t[a].abort()}else Object.keys(t).forEach((function(e){t[e]&&t[e].abort(),delete t[e]}))},post:function(e){var t=this,a=e.uid,r={headers:this.headers,withCredentials:this.withCredentials,file:e,data:this.data,filename:this.name,action:this.action,onProgress:function(a){t.onProgress(a,e)},onSuccess:function(r){t.onSuccess(r,e),delete t.reqs[a]},onError:function(r){t.onError(r,e),delete t.reqs[a]}},s=this.httpRequest(r);this.reqs[a]=s,s&&s.then&&s.then(r.onSuccess,r.onError)},handleClick:function(){this.disabled||(this.$refs.input.value=null,this.$refs.input.click())},handleKeydown:function(e){e.target===e.currentTarget&&(13!==e.keyCode&&32!==e.keyCode||this.handleClick())}},render:function(e){var t=this.handleClick,a=this.drag,r=this.name,s=this.handleChange,o=this.multiple,n=this.accept,i=this.listType,l=this.uploadFiles,c=this.disabled,u=this.handleKeydown,d={class:{"el-upload":!0},on:{click:t,keydown:u}};return d.class["el-upload--"+i]=!0,e("div",p()([d,{attrs:{tabindex:"0"}}]),[a?e("upload-dragger",{attrs:{disabled:c},on:{file:l}},[this.$slots.default]):this.$slots.default,e("input",{class:"el-upload__input",attrs:{type:"file",name:r,multiple:o,accept:n},ref:"input",on:{change:s}})])}},P=$,k=Object(d["a"])(P,x,J,!1,null,null,null);k.options.__file="packages/upload/src/upload.vue";var O=k.exports,F=a(11),A=a.n(F);function T(){}var I,E,D={name:"ElUpload",mixins:[A.a],components:{ElProgress:l.a,UploadList:f,Upload:O},provide:function(){return{uploader:this}},inject:{elForm:{default:""}},props:{action:{type:String,required:!0},headers:{type:Object,default:function(){return{}}},data:Object,multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,dragger:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:String,type:{type:String,default:"select"},beforeUpload:Function,beforeRemove:Function,onRemove:{type:Function,default:T},onChange:{type:Function,default:T},onPreview:{type:Function},onSuccess:{type:Function,default:T},onProgress:{type:Function,default:T},onError:{type:Function,default:T},fileList:{type:Array,default:function(){return[]}},autoUpload:{type:Boolean,default:!0},listType:{type:String,default:"text"},httpRequest:Function,disabled:Boolean,limit:Number,onExceed:{type:Function,default:T}},data:function(){return{uploadFiles:[],dragOver:!1,draging:!1,tempIndex:1}},computed:{uploadDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{listType:function(e){"picture-card"!==e&&"picture"!==e||(this.uploadFiles=this.uploadFiles.map((function(e){if(!e.url&&e.raw)try{e.url=URL.createObjectURL(e.raw)}catch(t){console.error("[Element Error][Upload]",t)}return e})))},fileList:{immediate:!0,handler:function(e){var t=this;this.uploadFiles=e.map((function(e){return e.uid=e.uid||Date.now()+t.tempIndex++,e.status=e.status||"success",e}))}}},methods:{handleStart:function(e){e.uid=Date.now()+this.tempIndex++;var t={status:"ready",name:e.name,size:e.size,percentage:0,uid:e.uid,raw:e};if("picture-card"===this.listType||"picture"===this.listType)try{t.url=URL.createObjectURL(e)}catch(a){return void console.error("[Element Error][Upload]",a)}this.uploadFiles.push(t),this.onChange(t,this.uploadFiles)},handleProgress:function(e,t){var a=this.getFile(t);this.onProgress(e,a,this.uploadFiles),a.status="uploading",a.percentage=e.percent||0},handleSuccess:function(e,t){var a=this.getFile(t);a&&(a.status="success",a.response=e,this.onSuccess(e,a,this.uploadFiles),this.onChange(a,this.uploadFiles))},handleError:function(e,t){var a=this.getFile(t),r=this.uploadFiles;a.status="fail",r.splice(r.indexOf(a),1),this.onError(e,a,this.uploadFiles),this.onChange(a,this.uploadFiles)},handleRemove:function(e,t){var a=this;t&&(e=this.getFile(t));var r=function(){a.abort(e);var t=a.uploadFiles;t.splice(t.indexOf(e),1),a.onRemove(e,t)};if(this.beforeRemove){if("function"===typeof this.beforeRemove){var s=this.beforeRemove(e,this.uploadFiles);s&&s.then?s.then((function(){r()}),T):!1!==s&&r()}}else r()},getFile:function(e){var t=this.uploadFiles,a=void 0;return t.every((function(t){return a=e.uid===t.uid?t:null,!a})),a},abort:function(e){this.$refs["upload-inner"].abort(e)},clearFiles:function(){this.uploadFiles=[]},submit:function(){var e=this;this.uploadFiles.filter((function(e){return"ready"===e.status})).forEach((function(t){e.$refs["upload-inner"].upload(t.raw)}))},getMigratingConfig:function(){return{props:{"default-file-list":"default-file-list is renamed to file-list.","show-upload-list":"show-upload-list is renamed to show-file-list.","thumbnail-mode":"thumbnail-mode has been deprecated, you can implement the same effect according to this case: http://element.eleme.io/#/zh-CN/component/upload#yong-hu-tou-xiang-shang-chuan"}}}},beforeDestroy:function(){this.uploadFiles.forEach((function(e){e.url&&0===e.url.indexOf("blob:")&&URL.revokeObjectURL(e.url)}))},render:function(e){var t=this,a=void 0;this.showFileList&&(a=e(f,{attrs:{disabled:this.uploadDisabled,listType:this.listType,files:this.uploadFiles,handlePreview:this.onPreview},on:{remove:this.handleRemove}},[function(e){if(t.$scopedSlots.file)return t.$scopedSlots.file({file:e.file})}]));var r={props:{type:this.type,drag:this.drag,action:this.action,multiple:this.multiple,"before-upload":this.beforeUpload,"with-credentials":this.withCredentials,headers:this.headers,name:this.name,data:this.data,accept:this.accept,fileList:this.uploadFiles,autoUpload:this.autoUpload,listType:this.listType,disabled:this.uploadDisabled,limit:this.limit,"on-exceed":this.onExceed,"on-start":this.handleStart,"on-progress":this.handleProgress,"on-success":this.handleSuccess,"on-error":this.handleError,"on-preview":this.onPreview,"on-remove":this.handleRemove,"http-request":this.httpRequest},ref:"upload-inner"},s=this.$slots.trigger||this.$slots.default,o=e("upload",r,[s]);return e("div",["picture-card"===this.listType?a:"",this.$slots.trigger?[o,this.$slots.default]:o,this.$slots.tip,"picture-card"!==this.listType?a:""])}},L=D,M=Object(d["a"])(L,I,E,!1,null,null,null);M.options.__file="packages/upload/src/index.vue";var N=M.exports;N.install=function(e){e.component(N.name,N)};t["default"]=N},6:function(e,t){e.exports=a("6b7c")}})},"8e8b":function(e,t,a){e.exports={"box-card":"JobClusterCreatePage_box-card_1sn9K"}},"92fa":function(e,t){var a=/^(attrs|props|on|nativeOn|class|style|hook)$/;function r(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}}e.exports=function(e){return e.reduce((function(e,t){var s,o,n,i,l;for(n in t)if(s=e[n],o=t[n],s&&a.test(n))if("class"===n&&("string"===typeof s&&(l=s,e[n]=s={},s[l]=!0),"string"===typeof o&&(l=o,t[n]=o={},o[l]=!0)),"on"===n||"nativeOn"===n||"hook"===n)for(i in o)s[i]=r(s[i],o[i]);else if(Array.isArray(s))e[n]=s.concat(o);else if(Array.isArray(o))e[n]=[s].concat(o);else for(i in o)s[i]=o[i];else e[n]=t[n];return e}),{})}},"9fe0":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v("Migration Strategy")]),a("div",[a("el-alert",{staticClass:"spacing-small",attrs:{title:"When the Mantis platform is updated, active Mantis jobs are incrementally moved from the old cluster to the new cluster.\n            This option controls how quickly your job workers will move during a Mantis upgrade.\n            If you are unsure, you can leave this at the default.",type:"info","show-icon":""}}),a("el-form-item",{attrs:{label:"Migration Strategy"}},[a("el-select",{attrs:{placeholder:""},on:{change:e.updateMigrationConfigString},model:{value:e.migrationConfig.strategy,callback:function(t){e.$set(e.migrationConfig,"strategy",t)},expression:"migrationConfig.strategy"}},e._l(e.MIGRATION_STRATEGIES,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e.migrationConfig.strategy===e.MIGRATION_STRATEGIES[0].value?a("div",[a("el-form-item",{attrs:{label:"Percent To Move (%)"}},[a("el-input-number",{attrs:{min:1,max:100},on:{change:e.updateMigrationConfigString},model:{value:e.migrationPercentToMove,callback:function(t){e.migrationPercentToMove=t},expression:"migrationPercentToMove"}})],1),a("el-form-item",{attrs:{label:"Interval (milliseconds)"}},[a("el-input-number",{attrs:{min:1e3},on:{change:e.updateMigrationConfigString},model:{value:e.intervalMs,callback:function(t){e.intervalMs=t},expression:"intervalMs"}})],1)],1):e._e()],1)])},s=[],o=a("3787"),n=a.n(o),i=a("e772"),l=a.n(i),c=a("4e4b"),u=a.n(c),d=a("e450"),m=a.n(d),f=a("e04d"),b=a.n(f),p=a("a4c4"),h=a.n(p),g=a("c9d9"),v={name:"JobClusterMigrationStrategyFormCard",components:{[h.a.name]:h.a,[b.a.name]:b.a,[m.a.name]:m.a,[u.a.name]:u.a,[l.a.name]:l.a,[n.a.name]:n.a},props:{migrationConfig:{type:Object,required:!0}},data(){return{MIGRATION_STRATEGIES:g["k"],migrationPercentToMove:25,intervalMs:6e4}},created(){if(this.migrationConfig.configString)try{const e=JSON.parse(this.migrationConfig.configString);this.migrationPercentToMove=e.percentToMove||25,this.intervalMs=e.intervalMs||6e4}catch{console.debug("JobClusterMigrationStrategyFormCard: Unable to parse migration config string")}},methods:{updateMigrationConfigString(){if(this.migrationConfig.strategy===g["k"][0].value){const e={percentToMove:this.migrationPercentToMove,intervalMs:this.intervalMs};this.migrationConfig.configString=JSON.stringify(e)}else this.migrationConfig.configString=""}}},_=v,C=a("2877"),y=Object(C["a"])(_,r,s,!1,null,null,null);t["a"]=y.exports},a85b:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("2a27");function s(e,t,a,s,o,n){const i={jobDefinition:e,owner:t},l=i.jobDefinition.name;return i.jobDefinition.name=l,i.jobDefinition.slaMin=i.jobDefinition.sla.min,i.jobDefinition.slaMax=i.jobDefinition.sla.max,i.jobDefinition.jobJarFileLocation="http://"+i.jobDefinition.jobJarFileLocation,i.jobDefinition.parameters=Object(r["b"])(a,s,o,n),i}},afbe:function(e,t,a){"use strict";var r=a("0b3f"),s=a.n(r);a.d(t,"default",(function(){return s.a}))},b217:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v("Owner Information")]),a("div",[a("el-form-item",{attrs:{label:"Contact Name",prop:"owner.name"}},[a("el-input",{attrs:{maxlength:e.inputMaxLength},model:{value:e.owner.name,callback:function(t){e.$set(e.owner,"name",t)},expression:"owner.name"}})],1),a("el-form-item",{attrs:{label:"Contact Email",prop:"owner.contactEmail"}},[a("el-input",{attrs:{maxlength:e.inputMaxLength},model:{value:e.owner.contactEmail,callback:function(t){e.$set(e.owner,"contactEmail",t)},expression:"owner.contactEmail"}})],1),a("el-form-item",{attrs:{label:"Team Name"}},[a("el-input",{attrs:{maxlength:e.inputMaxLength},model:{value:e.owner.teamName,callback:function(t){e.$set(e.owner,"teamName",t)},expression:"owner.teamName"}})],1),a("el-form-item",{attrs:{label:"Repo"}},[a("el-input",{attrs:{maxlength:e.inputMaxLength},model:{value:e.owner.repo,callback:function(t){e.$set(e.owner,"repo",t)},expression:"owner.repo"}})],1),a("el-form-item",{attrs:{label:"Description"}},[a("el-input",{attrs:{maxlength:e.inputMaxLength},model:{value:e.owner.description,callback:function(t){e.$set(e.owner,"description",t)},expression:"owner.description"}})],1)],1)])},s=[],o=a("3787"),n=a.n(o),i=a("f3ad"),l=a.n(i),c=a("a4c4"),u=a.n(c),d={name:"JobClusterOwnerFormCard",components:{[u.a.name]:u.a,[l.a.name]:l.a,[n.a.name]:n.a},props:{owner:{type:Object,required:!0}},data(){return{inputMaxLength:100}}},m=d,f=a("2877"),b=Object(f["a"])(m,r,s,!1,null,null,null);t["a"]=b.exports},b35b:function(e,t,a){e.exports=function(e){var t={};function a(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(r,s,function(t){return e[t]}.bind(null,s));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/dist/",a(a.s=88)}({0:function(e,t,a){"use strict";function r(e,t,a,r,s,o,n,i){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=a,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),n?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},c._ssrRegister=l):s&&(l=i?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}a.d(t,"a",(function(){return r}))},11:function(e,t){e.exports=a("2bb5")},22:function(e,t){e.exports=a("12f2")},4:function(e,t){e.exports=a("d010")},88:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-switch",class:{"is-disabled":e.switchDisabled,"is-checked":e.checked},attrs:{role:"switch","aria-checked":e.checked,"aria-disabled":e.switchDisabled},on:{click:function(t){return t.preventDefault(),e.switchValue(t)}}},[a("input",{ref:"input",staticClass:"el-switch__input",attrs:{type:"checkbox",id:e.id,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:e.switchDisabled},on:{change:e.handleChange,keydown:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.switchValue(t)}}}),e.inactiveIconClass||e.inactiveText?a("span",{class:["el-switch__label","el-switch__label--left",e.checked?"":"is-active"]},[e.inactiveIconClass?a("i",{class:[e.inactiveIconClass]}):e._e(),!e.inactiveIconClass&&e.inactiveText?a("span",{attrs:{"aria-hidden":e.checked}},[e._v(e._s(e.inactiveText))]):e._e()]):e._e(),a("span",{ref:"core",staticClass:"el-switch__core",style:{width:e.coreWidth+"px"}}),e.activeIconClass||e.activeText?a("span",{class:["el-switch__label","el-switch__label--right",e.checked?"is-active":""]},[e.activeIconClass?a("i",{class:[e.activeIconClass]}):e._e(),!e.activeIconClass&&e.activeText?a("span",{attrs:{"aria-hidden":!e.checked}},[e._v(e._s(e.activeText))]):e._e()]):e._e()])},s=[];r._withStripped=!0;var o=a(4),n=a.n(o),i=a(22),l=a.n(i),c=a(11),u=a.n(c),d={name:"ElSwitch",mixins:[l()("input"),u.a,n.a],inject:{elForm:{default:""}},props:{value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:40},activeIconClass:{type:String,default:""},inactiveIconClass:{type:String,default:""},activeText:String,inactiveText:String,activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String},data:function(){return{coreWidth:this.width}},created:function(){~[this.activeValue,this.inactiveValue].indexOf(this.value)||this.$emit("input",this.inactiveValue)},computed:{checked:function(){return this.value===this.activeValue},switchDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{checked:function(){this.$refs.input.checked=this.checked,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor(),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[this.value])}},methods:{handleChange:function(e){var t=this,a=this.checked?this.inactiveValue:this.activeValue;this.$emit("input",a),this.$emit("change",a),this.$nextTick((function(){t.$refs.input.checked=t.checked}))},setBackgroundColor:function(){var e=this.checked?this.activeColor:this.inactiveColor;this.$refs.core.style.borderColor=e,this.$refs.core.style.backgroundColor=e},switchValue:function(){!this.switchDisabled&&this.handleChange()},getMigratingConfig:function(){return{props:{"on-color":"on-color is renamed to active-color.","off-color":"off-color is renamed to inactive-color.","on-text":"on-text is renamed to active-text.","off-text":"off-text is renamed to inactive-text.","on-value":"on-value is renamed to active-value.","off-value":"off-value is renamed to inactive-value.","on-icon-class":"on-icon-class is renamed to active-icon-class.","off-icon-class":"off-icon-class is renamed to inactive-icon-class."}}}},mounted:function(){this.coreWidth=this.width||40,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor(),this.$refs.input.checked=this.checked}},m=d,f=a(0),b=Object(f["a"])(m,r,s,!1,null,null,null);b.options.__file="packages/switch/src/component.vue";var p=b.exports;p.install=function(e){e.component(p.name,p)};t["default"]=p}})},c0bb:function(e,t,a){e.exports=function(e){var t={};function a(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(r,s,function(t){return e[t]}.bind(null,s));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/dist/",a(a.s=92)}({0:function(e,t,a){"use strict";function r(e,t,a,r,s,o,n,i){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=a,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),n?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},c._ssrRegister=l):s&&(l=i?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}a.d(t,"a",(function(){return r}))},92:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-collapse",attrs:{role:"tablist","aria-multiselectable":"true"}},[e._t("default")],2)},s=[];r._withStripped=!0;var o={name:"ElCollapse",componentName:"ElCollapse",props:{accordion:Boolean,value:{type:[Array,String,Number],default:function(){return[]}}},data:function(){return{activeNames:[].concat(this.value)}},provide:function(){return{collapse:this}},watch:{value:function(e){this.activeNames=[].concat(e)}},methods:{setActiveNames:function(e){e=[].concat(e);var t=this.accordion?e[0]:e;this.activeNames=e,this.$emit("input",t),this.$emit("change",t)},handleItemClick:function(e){if(this.accordion)this.setActiveNames(!this.activeNames[0]&&0!==this.activeNames[0]||this.activeNames[0]!==e.name?e.name:"");else{var t=this.activeNames.slice(0),a=t.indexOf(e.name);a>-1?t.splice(a,1):t.push(e.name),this.setActiveNames(t)}}},created:function(){this.$on("item-click",this.handleItemClick)}},n=o,i=a(0),l=Object(i["a"])(n,r,s,!1,null,null,null);l.options.__file="packages/collapse/src/collapse.vue";var c=l.exports;c.install=function(e){e.component(c.name,c)};t["default"]=c}})},c284:function(e,t,a){e.exports=function(e){var t={};function a(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(r,s,function(t){return e[t]}.bind(null,s));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/dist/",a(a.s=119)}({0:function(e,t,a){"use strict";function r(e,t,a,r,s,o,n,i){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=a,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),n?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},c._ssrRegister=l):s&&(l=i?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}a.d(t,"a",(function(){return r}))},119:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-progress",class:["el-progress--"+e.type,e.status?"is-"+e.status:"",{"el-progress--without-text":!e.showText,"el-progress--text-inside":e.textInside}],attrs:{role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"}},["line"===e.type?a("div",{staticClass:"el-progress-bar"},[a("div",{staticClass:"el-progress-bar__outer",style:{height:e.strokeWidth+"px"}},[a("div",{staticClass:"el-progress-bar__inner",style:e.barStyle},[e.showText&&e.textInside?a("div",{staticClass:"el-progress-bar__innerText"},[e._v(e._s(e.content))]):e._e()])])]):a("div",{staticClass:"el-progress-circle",style:{height:e.width+"px",width:e.width+"px"}},[a("svg",{attrs:{viewBox:"0 0 100 100"}},[a("path",{staticClass:"el-progress-circle__track",style:e.trailPathStyle,attrs:{d:e.trackPath,stroke:"#e5e9f2","stroke-width":e.relativeStrokeWidth,fill:"none"}}),a("path",{staticClass:"el-progress-circle__path",style:e.circlePathStyle,attrs:{d:e.trackPath,stroke:e.stroke,fill:"none","stroke-linecap":e.strokeLinecap,"stroke-width":e.percentage?e.relativeStrokeWidth:0}})])]),e.showText&&!e.textInside?a("div",{staticClass:"el-progress__text",style:{fontSize:e.progressTextSize+"px"}},[e.status?a("i",{class:e.iconClass}):[e._v(e._s(e.content))]],2):e._e()])},s=[];r._withStripped=!0;var o={name:"ElProgress",props:{type:{type:String,default:"line",validator:function(e){return["line","circle","dashboard"].indexOf(e)>-1}},percentage:{type:Number,default:0,required:!0,validator:function(e){return e>=0&&e<=100}},status:{type:String,validator:function(e){return["success","exception","warning"].indexOf(e)>-1}},strokeWidth:{type:Number,default:6},strokeLinecap:{type:String,default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:[String,Array,Function],default:""},format:Function},computed:{barStyle:function(){var e={};return e.width=this.percentage+"%",e.backgroundColor=this.getCurrentColor(this.percentage),e},relativeStrokeWidth:function(){return(this.strokeWidth/this.width*100).toFixed(1)},radius:function(){return"circle"===this.type||"dashboard"===this.type?parseInt(50-parseFloat(this.relativeStrokeWidth)/2,10):0},trackPath:function(){var e=this.radius,t="dashboard"===this.type;return"\n        M 50 50\n        m 0 "+(t?"":"-")+e+"\n        a "+e+" "+e+" 0 1 1 0 "+(t?"-":"")+2*e+"\n        a "+e+" "+e+" 0 1 1 0 "+(t?"":"-")+2*e+"\n        "},perimeter:function(){return 2*Math.PI*this.radius},rate:function(){return"dashboard"===this.type?.75:1},strokeDashoffset:function(){var e=-1*this.perimeter*(1-this.rate)/2;return e+"px"},trailPathStyle:function(){return{strokeDasharray:this.perimeter*this.rate+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset}},circlePathStyle:function(){return{strokeDasharray:this.perimeter*this.rate*(this.percentage/100)+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"}},stroke:function(){var e=void 0;if(this.color)e=this.getCurrentColor(this.percentage);else switch(this.status){case"success":e="#13ce66";break;case"exception":e="#ff4949";break;case"warning":e="#e6a23c";break;default:e="#20a0ff"}return e},iconClass:function(){return"warning"===this.status?"el-icon-warning":"line"===this.type?"success"===this.status?"el-icon-circle-check":"el-icon-circle-close":"success"===this.status?"el-icon-check":"el-icon-close"},progressTextSize:function(){return"line"===this.type?12+.4*this.strokeWidth:.111111*this.width+2},content:function(){return"function"===typeof this.format?this.format(this.percentage)||"":this.percentage+"%"}},methods:{getCurrentColor:function(e){return"function"===typeof this.color?this.color(e):"string"===typeof this.color?this.color:this.getLevelColor(e)},getLevelColor:function(e){for(var t=this.getColorArray().sort((function(e,t){return e.percentage-t.percentage})),a=0;a<t.length;a++)if(t[a].percentage>e)return t[a].color;return t[t.length-1].color},getColorArray:function(){var e=this.color,t=100/e.length;return e.map((function(e,a){return"string"===typeof e?{color:e,percentage:(a+1)*t}:e}))}}},n=o,i=a(0),l=Object(i["a"])(n,r,s,!1,null,null,null);l.options.__file="packages/progress/src/progress.vue";var c=l.exports;c.install=function(e){e.component(c.name,c)};t["default"]=c}})},c4ba:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/clusters"}}},[e._v("Clusters")]),a("el-breadcrumb-item",{attrs:{to:{path:"/clusters/"+e.clusterId}}},[e._v("Cluster Detail")]),a("el-breadcrumb-item",[e._v("Cluster Job Submit")])],1),a("h1",[e._v("Submit a Job")]),a("h4",[e._v("\n    Submit\n    "),a("span",{staticClass:"primary-text"},[e._v(e._s(e.clusterId)+" "+e._s(e.form.version))])]),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],ref:"submitJobForm",staticClass:"text-left",attrs:{"status-icon":"",model:e.form,rules:e.rules,"label-width":e.formLabelWidth,size:"mini"}},[a("JobClusterInformationFormCard",{class:e.$style["box-card"],attrs:{"cluster-id":e.clusterId,"cluster-version":e.form.version,"available-job-artifact-versions":e.availableJobArtifactVersions},on:{"on-job-cluster-version-select":e.onJobClusterVersionSelect}}),e.form.isQuickSubmitSupported?a("QuickSubmitFormCard",{class:e.$style["box-card"],attrs:{"is-enabled":e.quickSubmitEnabled},on:{"update:isEnabled":function(t){e.quickSubmitEnabled=t},"update:is-enabled":function(t){e.quickSubmitEnabled=t}}}):e._e(),e.formReady?a("MantisArtifactFilesFormCard",{class:e.$style["box-card"],attrs:{"jar-file-name":e.form.jobJarFileName,"job-properties-file-name":e.form.jobPropertiesFileName}}):e._e(),!e.quickSubmitEnabled&&e.formReady?a("div",[e.selectedArtifactPropertiesJson?a("JobClusterJobInformationFormCard",{class:e.$style["box-card"],attrs:{"job-properties":e.selectedArtifactPropertiesJson}}):e._e(),a("JobClusterLabelsFormCard",{class:e.$style["box-card"],attrs:{"form-prop-path":"labels",labels:e.form.labels,"user-name":e.form.name,"user-email":e.form.user}}),a("JobSlaOptionsFormCard",{class:e.$style["box-card"],attrs:{"min-sla":e.form.sla.min,"max-sla":e.form.sla.max,"min-runtime-secs":e.form.jobSla.minRuntimeSecs,"runtime-limit-secs":e.form.jobSla.runtimeLimitSecs,"is-transient-job":e.form.isTransientJob,"user-provided-type":e.form.jobSla.userProvidedType},on:{"update:minRuntimeSecs":function(t){return e.$set(e.form.jobSla,"minRuntimeSecs",t)},"update:min-runtime-secs":function(t){return e.$set(e.form.jobSla,"minRuntimeSecs",t)},"update:runtimeLimitSecs":function(t){return e.$set(e.form.jobSla,"runtimeLimitSecs",t)},"update:runtime-limit-secs":function(t){return e.$set(e.form.jobSla,"runtimeLimitSecs",t)},"update:isTransientJob":function(t){return e.$set(e.form,"isTransientJob",t)},"update:is-transient-job":function(t){return e.$set(e.form,"isTransientJob",t)},"update:userProvidedType":function(t){return e.$set(e.form.jobSla,"userProvidedType",t)},"update:user-provided-type":function(t){return e.$set(e.form.jobSla,"userProvidedType",t)},"on-toggle-transient-job":e.onToggleTranscientJob}}),e.form.schedulingInfo.stages[0]?a("EnableJobMasterFormCard",{class:e.$style["box-card"],attrs:{"is-enabled":e.form.enableJobMaster},on:{"update:isEnabled":function(t){return e.$set(e.form,"enableJobMaster",t)},"update:is-enabled":function(t){return e.$set(e.form,"enableJobMaster",t)}}}):e._e(),e.form.enableJobMaster?a("JobClusterStageSchedulingOptionsFormCard",{class:e.$style["box-card"],attrs:{"stage-number":0,stage:e.form.schedulingInfo.stages[0]}}):e._e(),e._l(e.form.schedulingInfo.stages,(function(t,r){return a("div",{key:r},[0!==parseInt(r)?a("div",[a("JobClusterStageSchedulingOptionsFormCard",{class:e.$style["box-card"],attrs:{"stage-number":parseInt(r),stage:t}}),a("JobClusterStageScalingOptionsFormCard",{class:e.$style["box-card"],attrs:{"stage-number":parseInt(r),stage:t,"scaling-reasons":e.scalingReasons}}),a("OptionalJobConstraintsFormCard",{class:e.$style["box-card"],attrs:{"stage-number":parseInt(r),stage:t}})],1):e._e()])}))],2):e._e(),a("JobParametersConfigCardFormCard",{class:e.$style["box-card"],attrs:{"show-system-params":!1,parameters:e.form.availableParameters,"default-parameters":e.form.defaultParameters,"form-prop-path":"availableParameters","should-override":e.form.shouldOverrideJobParameters,"disable-override-toggle":e.form.forceEnableJobParameters},on:{"update:shouldOverride":function(t){return e.$set(e.form,"shouldOverrideJobParameters",t)},"update:should-override":function(t){return e.$set(e.form,"shouldOverrideJobParameters",t)}}}),a("JobParametersConfigCardFormCard",{class:e.$style["box-card"],attrs:{"show-system-params":!0,parameters:e.form.availableParameters,"default-parameters":e.form.defaultParameters,"form-prop-path":"availableParameters","should-override":e.form.shouldOverrideSystemParameters,"disable-override-toggle":e.form.forceEnableSystemParameters},on:{"update:shouldOverride":function(t){return e.$set(e.form,"shouldOverrideSystemParameters",t)},"update:should-override":function(t){return e.$set(e.form,"shouldOverrideSystemParameters",t)}}}),a("SubmitOrCancelFormCard",{class:e.$style["box-card"],attrs:{title:"Submit or Cancel","submit-text":"Submit to Mantis","submit-icon":"el-icon-s-tools"},on:{"on-submit":e.onSubmit,"on-close":e.onClose}},[a("el-tag",{attrs:{type:"primary",size:"large"}},[e._v("\n        You are performing a\n        "),a("strong",[e._v("Quick Submit")]),e._v("\n        on Job Cluster\n        "),a("strong",[e._v(e._s(e.clusterId))]),e._v(",\n        "),a("strong",[e._v("version "+e._s(e.form.version))])])],1)],1)],1)},s=[],o=a("c216"),n=a.n(o),i=a("76b9"),l=a.n(i),c=a("8bbc"),u=a.n(c),d=a("4105"),m=a.n(d),f=a("4360"),b=a("2f62"),p=a("63e0"),h=a("ed82"),g=a("0b9c"),v=a("ce44"),_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v("Job Cluster Submit Options")]),a("div",[e.isEnabled?a("el-alert",{staticClass:"spacing-small",attrs:{title:"Quick Submit will submit a copy of the most recently submitted job in that region",type:"info","show-icon":""}}):a("el-alert",{staticClass:"spacing-small",attrs:{title:"Standard Submit is the default behavior with all options",type:"info","show-icon":""}}),a("el-form-item",{attrs:{label:"Submit Type"}},[a("el-switch",{attrs:{value:e.isEnabled,"active-text":"Quick Submit","inactive-text":"Standard Submit"},on:{change:e.onToggle}})],1)],1)])},C=[],y=a("3787"),S=a.n(y),j=a("b35b"),x=a.n(j),J=a("e04d"),w=a.n(J),$=a("a4c4"),P=a.n($),k={name:"QuickSubmitFormCard",components:{[P.a.name]:P.a,[w.a.name]:w.a,[x.a.name]:x.a,[S.a.name]:S.a},props:{isEnabled:{type:Boolean,required:!0}},methods:{onToggle(e){this.$emit("update:isEnabled",e)}}},O=k,F=a("2877"),A=Object(F["a"])(O,_,C,!1,null,null,null),T=A.exports,I=a("de7c"),E=a("3dfe"),D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v("Mantis Artifact Files")]),a("div",[a("el-form-item",{attrs:{label:"Job Artifact File"}},[e._v(e._s(e.jarFileName))]),a("el-form-item",{attrs:{label:"Job Metadata File"}},[e._v(e._s(e.jobPropertiesFileName))])],1)])},L=[],M={name:"MantisArtifactFilesFormCard",components:{[P.a.name]:P.a,[S.a.name]:S.a},props:{jarFileName:{type:String,required:!0},jobPropertiesFileName:{type:String,required:!0}}},N=M,R=Object(F["a"])(N,D,L,!1,null,null,null),U=R.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v("\n    Job Cluster Job Information\n  ")]),a("div",[a("el-form-item",{attrs:{label:"Job Name"}},[e._v("\n      "+e._s(e.jobProperties.jobInfo.name)+"\n    ")]),a("el-form-item",{attrs:{label:"Job Description"}},[e._v("\n      "+e._s(e.jobProperties.jobInfo.description)+"\n    ")]),a("el-form-item",{attrs:{label:"Number of Stages"}},[e._v("\n      "+e._s(e.jobProperties.jobInfo.numberOfStages)+"\n    ")]),e.jobProperties.sourceInfo?a("el-form-item",{attrs:{label:"Job Source Info"}},[e._v("\n      "+e._s(e.jobProperties.jobInfo.sourceInfo)+"\n    ")]):e._e(),e.jobProperties.sinkInfo?a("el-form-item",{attrs:{label:"Job Sink Info"}},[e._v("\n      "+e._s(e.jobProperties.jobInfo.sinkInfo)+"\n    ")]):e._e(),a("el-form-item",{attrs:{label:"Project"}},[e._v("\n      "+e._s(e.jobProperties.project)+"\n    ")]),a("el-form-item",{attrs:{label:"Timestamp"}},[e._v("\n      "+e._s(e.formatDateLong(e.jobProperties.timestamp))+"\n    ")]),a("el-form-item",{attrs:{label:"Version"}},[e._v("\n      "+e._s(e.jobProperties.version)+"\n    ")])],1)])},B=[],V=a("b166"),z=a("c9d9"),K={name:"JobClusterJobInformationFormCard",components:{[P.a.name]:P.a,[S.a.name]:S.a},props:{jobProperties:{type:Object,required:!0}},methods:{formatDateLong(e){return e?Object(V["a"])(e,z["g"]):""}}},H=K,Q=Object(F["a"])(H,q,B,!1,null,null,null),G=Q.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v("Job Cluster Basic Information")]),a("div",[a("el-form-item",{attrs:{label:"Job Cluster Name"}},[e._v(e._s(e.clusterId))]),a("el-form-item",{attrs:{label:"Job Cluster Version"}},[a("el-select",{staticClass:"stretch-x",attrs:{value:e.clusterVersion,placeholder:"Please select an artifact version",filterable:""},on:{change:e.onJobClusterVersionSelect}},e._l(e.availableJobArtifactVersions,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)])},Y=[],X=a("e772"),Z=a.n(X),ee=a("4e4b"),te=a.n(ee),ae={name:"JobClusterInformationFormCard",components:{[P.a.name]:P.a,[te.a.name]:te.a,[Z.a.name]:Z.a,[S.a.name]:S.a},props:{clusterId:{type:String,required:!0},clusterVersion:{type:String,required:!0},availableJobArtifactVersions:{type:Array,required:!0}},methods:{onJobClusterVersionSelect(e){this.$emit("on-job-cluster-version-select",e)}}},re=ae,se=Object(F["a"])(re,W,Y,!1,null,null,null),oe=se.exports,ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v("\n    Stage "+e._s(e.stageNumber)+" - Optional Job Constraints\n  ")]),a("div",[a("el-form-item",{attrs:{label:"Unique Host"}},[a("el-select",{on:{change:function(t){return e.onUpdateConstraint("UniqueHost",t)}},model:{value:e.uniqueHost,callback:function(t){e.uniqueHost=t},expression:"uniqueHost"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v("\n       \n      "),a("el-tag",{attrs:{type:"info"}},[e._v("Launch each worker of a stage on unique hosts")])],1),a("el-form-item",{attrs:{label:"Exclusive Host"}},[a("el-select",{on:{change:function(t){return e.onUpdateConstraint("ExclusiveHost",t)}},model:{value:e.exclusiveHost,callback:function(t){e.exclusiveHost=t},expression:"exclusiveHost"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v("\n       \n      "),a("el-tag",{attrs:{type:"info"}},[e._v("Launch worker on a host unto itself")])],1)],1)])},ie=[],le={name:"OptionalJobConstraintsFormCard",components:{[P.a.name]:P.a,[te.a.name]:te.a,[Z.a.name]:Z.a,[u.a.name]:u.a,[S.a.name]:S.a},props:{stageNumber:{type:Number,required:!0},stage:{type:Object,required:!0}},data(){const e=[{label:"not needed",value:null},{label:"soft (best effort)",value:"soft"},{label:"hard (required)",value:"hard"}];return{options:e,uniqueHost:null,exclusiveHost:null}},created(){},methods:{onUpdateConstraint(e,t){const a=this.stage.softConstraints,r=this.stage.hardConstraints,s=(e,t)=>{e.includes(t)||e.push(t)},o=(e,t)=>{const a=e.findIndex(e=>e===t);a>=0&&e.splice(a,1)};"soft"===t?(s(a,e),o(r,e)):"hard"===t?(s(r,e),o(a,e)):(o(a,e),o(r,e))}}},ce=le,ue=Object(F["a"])(ce,ne,ie,!1,null,null,null),de=ue.exports,me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v("SLA Options")]),a("div",[a("el-form-item",{attrs:{label:"SLA Min / Max"}},[a("strong",[e._v(e._s(e.minSla))]),e._v(" /\n      "),a("strong",[e._v(e._s(e.maxSla))]),e._v("\n       \n      "),a("el-tag",{attrs:{type:"info"}},[e._v("Min/Max number of instances of this job to keep running")])],1),a("el-form-item",{attrs:{label:"Min Runtime"}},[a("el-input-number",{attrs:{value:e.minRuntimeSecs,min:0},on:{change:function(t){return e.$emit("update:minRuntimeSecs",t)}}}),e._v(" \n      "),a("el-tag",{attrs:{type:"info"}},[e._v("Minimum number of seconds for this job to run. 0 is disabled")])],1),a("el-form-item",{attrs:{label:"Max Runtime"}},[a("el-input-number",{attrs:{value:e.runtimeLimitSecs,min:0},on:{change:function(t){return e.$emit("update:runtimeLimitSecs",t)}}}),e._v(" \n      "),a("el-tag",{attrs:{type:"info"}},[e._v("Job will be auto-killed after this number of seconds. 0 is disabled")])],1),a("el-form-item",{attrs:{label:"Transient Job"}},[a("el-switch",{attrs:{value:e.isTransientJob},on:{change:e.onToggleTranscientJob}}),e._v(" \n      "),a("el-tag",{attrs:{type:"info"}},[e._v("Job will complete after 5 minutes without an active subscription")])],1),a("el-form-item",{attrs:{label:"User Provided Type"}},[a("el-input",{class:e.$style["user-provided-type-input"],attrs:{value:e.userProvidedType},on:{input:function(t){return e.$emit("update:userProvidedType",t)}}}),e._v(" \n      "),a("el-tag",{attrs:{type:"info"}},[e._v('Takes an escaped JSON such as {\\"unique\\":\\"abc\\"}')])],1)],1)])},fe=[],be=a("e450"),pe=a.n(be),he=a("f3ad"),ge=a.n(he),ve={name:"JobSlaOptionsFormCard",components:{[P.a.name]:P.a,[ge.a.name]:ge.a,[pe.a.name]:pe.a,[x.a.name]:x.a,[u.a.name]:u.a,[S.a.name]:S.a},props:{minSla:{type:Number,required:!0},maxSla:{type:Number,required:!0},minRuntimeSecs:{type:Number,required:!0},runtimeLimitSecs:{type:Number,required:!0},isTransientJob:{type:Boolean,required:!0},userProvidedType:{type:String,required:!0}},methods:{onToggleTranscientJob(e){this.$emit("on-toggle-transient-job",e),this.$emit("update:isTransientJob",e)}}},_e=ve,Ce=a("5b91");function ye(e){this["$style"]=Ce["default"].locals||Ce["default"]}var Se=Object(F["a"])(_e,me,fe,!1,ye,null,null),je=Se.exports,xe=a("8317"),Je=a("0cd3"),we=a("2966"),$e=a("2a27"),Pe={name:"JobClusterSubmitJobPage",components:{[m.a.name]:m.a,[u.a.name]:u.a,[l.a.name]:l.a,[n.a.name]:n.a,JobClusterLabelsFormCard:h["a"],JobClusterStageScalingOptionsFormCard:I["a"],JobClusterStageSchedulingOptionsFormCard:E["a"],JobParametersConfigCardFormCard:g["a"],JobSlaOptionsFormCard:je,EnableJobMasterFormCard:v["a"],MantisArtifactFilesFormCard:U,JobClusterInformationFormCard:oe,JobClusterJobInformationFormCard:G,OptionalJobConstraintsFormCard:de,SubmitOrCancelFormCard:xe["a"],QuickSubmitFormCard:T},data(){return{clusterId:this.$route.params.clusterId,quickSubmitEnabled:!1,inputMaxLength:100,formLabelWidth:"150px",formReady:!1,availableJobArtifactVersions:[],form:{isQuickSubmitSupported:!1,enableJobMaster:!1,name:this.$store.state.user.name,user:this.$store.state.user.email,jobJarFileLocation:"",version:this.$route.query.clusterVersion,isTransientJob:!1,jobSla:{durationType:"Perpetual",runtimeLimitSecs:0,minRuntimeSecs:0,userProvidedType:""},schedulingInfo:{},labels:[],availableParameters:[],defaultParameters:[],shouldOverrideJobParameters:!1,forceEnableJobParameters:!1,shouldOverrideSystemParameters:!1,forceEnableSystemParameters:!1,isReadyForJobMaster:!1},rules:{}}},computed:{...Object(b["d"])({isLoading:e=>e.jobCluster.isLoadingJobClusterDetails||e.jobCluster.isLoadingJobClusterJobs||e.artifact.isLoadingArtifactProperties,selectedJobCluster:e=>e.jobCluster.selectedJobCluster,labels:e=>e.jobCluster.selectedJobCluster?e.jobCluster.selectedJobCluster.labels:[],scalingReasons:e=>{const t=e.metadata.masterConfigs;return Object(Je["a"])(t)},selectedArtifactPropertiesJson:e=>e.artifact.selectedArtifactPropertiesJson})},watch:{async selectedJobCluster(e){const t=e.jars.find(e=>e.version===this.form.version),a=e.jars.map(e=>e.version);if(t){const a=JSON.parse(JSON.stringify(t.schedulingInfo));t.url.replace(/(^\w+:|^)\/\//,"");this.form.jobJarFileName=Object(we["a"])(t.url),this.form.jobPropertiesFileName=this.form.jobJarFileName.replace(/\.(jar|zip)/,".json"),await f["a"].dispatch(p["a"].FetchJobArtifact,{artifactName:this.form.jobPropertiesFileName});const r=e.parameters.map((e,t)=>({key:e.name,index:t,value:e.value,override:""}));this.form.defaultParameters=r;const s=this.selectedArtifactPropertiesJson;if(s){const e=s.jobInfo.parameterInfo,t=Object.keys(e).map((t,a)=>({key:t,index:a,value:e[t],override:""})),a=r.filter(e=>!Object($e["a"])(e)),o=r.filter(e=>Object($e["a"])(e));if(!a.length){const e=t.filter(e=>!Object($e["a"])(e));e.some(e=>e.value.required)&&(this.form.shouldOverrideJobParameters=!0,this.form.forceEnableJobParameters=!0)}if(!o.length){const e=t.filter(e=>Object($e["a"])(e));e.some(e=>e.value.required)&&(this.form.shouldOverrideSystemParameters=!0,this.form.forceEnableSystemParameters=!0)}this.form.availableParameters=t}Object.keys(a.stages).forEach(e=>{if(0!==e){const t=a.stages[e];t.scalingPolicy=t.scalingPolicy||Object(z["e"])(),t.softConstraints=t.softConstraints||[],t.hardConstraints=t.hardConstraints||[]}}),this.form.schedulingInfo=a,a.stages[0]&&e.isReadyForJobMaster&&(this.form.enableJobMaster=!0)}this.availableJobArtifactVersions=a,this.form.isQuickSubmitSupported=e.lastJobCount>0;const r=JSON.parse(JSON.stringify(e.labels));this.form.labels=r,this.form.sla={min:e.sla.min,max:e.sla.max},this.formReady=!0}},created(){f["a"].dispatch(p["a"].FetchMasterConfigs),f["a"].dispatch(p["a"].FetchJobClusterDetails,{clusterId:this.clusterId})},methods:{onJobClusterVersionSelect(e){this.form.version=e;const t=this.selectedJobCluster.jars,a=t.find(t=>t.version===e);if(a){const e=a.url.replace(/(^\w+:|^)\/\//,"");this.form.jobJarFileName=Object(we["a"])(e),this.form.jobPropertiesFileName=this.form.jobJarFileName.replace(/\.(jar|zip)/,".json"),f["a"].dispatch(p["a"].FetchJobArtifact,{artifactName:e})}},onSubmit(){const e=this.$refs["submitJobForm"];e.validate(async(t,a)=>{if(!t){const e=a[Object.keys(a)[0]];return e.length?this.$message.error("Unable to submit job due to error: "+e[0].message):this.$message.error("Unable to submit job. Check form above for errors."),!1}{const t=this.clusterId,a=(t,a)=>{if(a)this.$scrollTo(e.$el,{offset:-200});else{const a=t.jobMetadata.jobId;this.$router.push({path:"/jobs/"+a},()=>{this.$message.success("Successfully submited job "+a),this.$scrollTo(e.$el,{offset:-200})})}};if(this.quickSubmitEnabled){const e={name:t,user:this.form.user,jobSla:this.form.jobSla},{data:r={},errors:s}=await f["a"].dispatch(p["a"].QuickSubmitJob,{jobConfig:e});a(r,s)}else{const e=Object($e["b"])(this.form.availableParameters,this.form.defaultParameters,this.form.shouldOverrideJobParameters,this.form.shouldOverrideSystemParameters),r=(this.form.jobJarFileName,{name:t,user:this.form.user,version:this.form.version,jobSla:this.form.jobSla,schedulingInfo:this.form.schedulingInfo,parameters:e,isReadyForJobMaster:!(!this.form.enableJobMaster||!this.selectedJobCluster.isReadyForJobMaster)}),{data:s={},errors:o}=await f["a"].dispatch(p["a"].SubmitJobForCluster,{clusterId:t,jobConfig:r});a(s,o)}}})},onClose(){this.$router.push("/clusters/"+this.clusterId)},onToggleTranscientJob(e){this.form.jobSla.durationType=e?"Transient":"Perpetual"}}},ke=Pe,Oe=a("3d60");function Fe(e){this["$style"]=Oe["default"].locals||Oe["default"]}var Ae=Object(F["a"])(ke,r,s,!1,Fe,null,null);t["default"]=Ae.exports},c83e:function(e,t,a){"use strict";var r=a("8e8b"),s=a.n(r);a.d(t,"default",(function(){return s.a}))},ca43:function(e,t,a){"use strict";var r=a("8576"),s=a.n(r);a.d(t,"default",(function(){return s.a}))},ce44:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("font-awesome-icon",{attrs:{icon:"clock"}}),e._v(" Job Master")],1),a("div",[a("el-alert",{staticClass:"spacing-small",attrs:{title:"Must be enabled to allow manual / auto scaling.",type:"info","show-icon":""}}),a("el-form-item",{attrs:{label:"Enable Job Master"}},[a("el-switch",{attrs:{value:e.isEnabled},on:{change:e.onToggle}})],1)],1)])},s=[],o=a("3787"),n=a.n(o),i=a("b35b"),l=a.n(i),c=a("e04d"),u=a.n(c),d=a("a4c4"),m=a.n(d),f=(a("c9d9"),{name:"EnableJobMasterFormCard",components:{[m.a.name]:m.a,[u.a.name]:u.a,[l.a.name]:l.a,[n.a.name]:n.a},props:{isEnabled:{type:Boolean,required:!0}},methods:{onToggle(e){this.$emit("on-toggle-job-master",e),this.$emit("update:isEnabled",e)}}}),b=f,p=a("2877"),h=Object(p["a"])(b,r,s,!1,null,null,null);t["a"]=h.exports},d180:function(e,t,a){e.exports=function(e){var t={};function a(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(r,s,function(t){return e[t]}.bind(null,s));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/dist/",a(a.s=91)}({0:function(e,t,a){"use strict";function r(e,t,a,r,s,o,n,i){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=a,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),n?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},c._ssrRegister=l):s&&(l=i?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}a.d(t,"a",(function(){return r}))},28:function(e,t){e.exports=a("5488")},3:function(e,t){e.exports=a("8122")},4:function(e,t){e.exports=a("d010")},91:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-collapse-item",class:{"is-active":e.isActive,"is-disabled":e.disabled}},[a("div",{attrs:{role:"tab","aria-expanded":e.isActive,"aria-controls":"el-collapse-content-"+e.id,"aria-describedby":"el-collapse-content-"+e.id}},[a("div",{staticClass:"el-collapse-item__header",class:{focusing:e.focusing,"is-active":e.isActive},attrs:{role:"button",id:"el-collapse-head-"+e.id,tabindex:e.disabled?void 0:0},on:{click:e.handleHeaderClick,keyup:function(t){return!("button"in t)&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.handleEnterClick(t))},focus:e.handleFocus,blur:function(t){e.focusing=!1}}},[e._t("title",[e._v(e._s(e.title))]),a("i",{staticClass:"el-collapse-item__arrow el-icon-arrow-right",class:{"is-active":e.isActive}})],2)]),a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"el-collapse-item__wrap",attrs:{role:"tabpanel","aria-hidden":!e.isActive,"aria-labelledby":"el-collapse-head-"+e.id,id:"el-collapse-content-"+e.id}},[a("div",{staticClass:"el-collapse-item__content"},[e._t("default")],2)])])],1)},s=[];r._withStripped=!0;var o=a(28),n=a.n(o),i=a(4),l=a.n(i),c=a(3),u={name:"ElCollapseItem",componentName:"ElCollapseItem",mixins:[l.a],components:{ElCollapseTransition:n.a},data:function(){return{contentWrapStyle:{height:"auto",display:"block"},contentHeight:0,focusing:!1,isClick:!1,id:Object(c["generateId"])()}},inject:["collapse"],props:{title:String,name:{type:[String,Number],default:function(){return this._uid}},disabled:Boolean},computed:{isActive:function(){return this.collapse.activeNames.indexOf(this.name)>-1}},methods:{handleFocus:function(){var e=this;setTimeout((function(){e.isClick?e.isClick=!1:e.focusing=!0}),50)},handleHeaderClick:function(){this.disabled||(this.dispatch("ElCollapse","item-click",this),this.focusing=!1,this.isClick=!0)},handleEnterClick:function(){this.dispatch("ElCollapse","item-click",this)}}},d=u,m=a(0),f=Object(m["a"])(d,r,s,!1,null,null,null);f.options.__file="packages/collapse/src/collapse-item.vue";var b=f.exports;b.install=function(e){e.component(b.name,b)};t["default"]=b}})},de7c:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("font-awesome-icon",{attrs:{icon:"cog"}}),a("font-awesome-icon",{attrs:{icon:"arrows-alt-h"}}),a("font-awesome-icon",{attrs:{icon:"cog"}}),a("font-awesome-icon",{attrs:{icon:"cog"}}),e._v("\n    -\n    Stage "+e._s(e.stageNumber)+" - Autoscale\n  ")],1),a("div",[a("el-radio-group",{model:{value:e.stageScalingPolicy,callback:function(t){e.stageScalingPolicy=t},expression:"stageScalingPolicy"}},[a("el-radio",{attrs:{label:"noScaling"}},[e._v("Disable Scaling")]),a("el-radio",{attrs:{label:"manualScaling"}},[e._v("Enable Manual Scaling")]),a("el-radio",{attrs:{label:"autoScaling"}},[e._v("Enable Auto Scale")])],1),"autoScaling"===e.stageScalingPolicy?a("div",{staticClass:"spacing"},[a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"Basic Options",name:"basic"}},[a("JobClusterStageScalingBasicOptions",{attrs:{stage:e.stage}})],1),a("el-collapse-item",{attrs:{title:"Strategies",name:"listStrategies"}},[a("JobClusterStageScalingStrategiesList",{attrs:{stage:e.stage,"scaling-reasons":e.scalingReasons}})],1)],1)],1):e._e()],1)])},s=[],o=a("d180"),n=a.n(o),i=a("c0bb"),l=a.n(i),c=a("6ac5"),u=a.n(c),d=a("f494"),m=a.n(d),f=a("a4c4"),b=a.n(f),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-form-item",{attrs:{label:"Min/Max"}},[a("el-input-number",{model:{value:e.stage.scalingPolicy.min,callback:function(t){e.$set(e.stage.scalingPolicy,"min",t)},expression:"stage.scalingPolicy.min"}}),a("el-divider",{attrs:{direction:"vertical"}}),a("el-input-number",{model:{value:e.stage.scalingPolicy.max,callback:function(t){e.$set(e.stage.scalingPolicy,"max",t)},expression:"stage.scalingPolicy.max"}})],1),a("el-form-item",{attrs:{label:"Increment/Decrement"}},[a("el-input-number",{model:{value:e.stage.scalingPolicy.increment,callback:function(t){e.$set(e.stage.scalingPolicy,"increment",t)},expression:"stage.scalingPolicy.increment"}}),a("el-divider",{attrs:{direction:"vertical"}}),a("el-input-number",{model:{value:e.stage.scalingPolicy.decrement,callback:function(t){e.$set(e.stage.scalingPolicy,"decrement",t)},expression:"stage.scalingPolicy.decrement"}})],1),a("el-form-item",{attrs:{label:"Cooldown"}},[a("el-input-number",{model:{value:e.stage.scalingPolicy.coolDownSecs,callback:function(t){e.$set(e.stage.scalingPolicy,"coolDownSecs",t)},expression:"stage.scalingPolicy.coolDownSecs"}})],1)],1),a("el-checkbox",{model:{value:e.showHelp,callback:function(t){e.showHelp=t},expression:"showHelp"}},[e._v("Show Help")]),e.showHelp?a("div",[e._m(0),e._m(1),e._m(2)]):e._e()],1)},h=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("strong",[e._v("min / max")]),e._v(" - minimum/maximum # of workers to run for this stage\n    ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("strong",[e._v("increment / decrement")]),e._v(" - # of workers to increment/decrement at a time when scaling up\n    ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("strong",[e._v("cooldown")]),e._v(" - # of seconds to wait since previous scale up/down before auto scaling again\n    ")])}],g=a("3787"),v=a.n(g),_=a("e450"),C=a.n(_),y=a("7bc3"),S=a.n(y),j=a("dcdc"),x=a.n(j),J={name:"JobClusterStageScalingBasicOptions",components:{[x.a.name]:x.a,[S.a.name]:S.a,[C.a.name]:C.a,[v.a.name]:v.a},props:{stage:{type:Object,required:!0}},data(){return{showHelp:!1}}},w=J,$=a("2877"),P=Object($["a"])(w,p,h,!1,null,null,null),k=P.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"flex layout horizontal wrap"},e._l(e.stage.scalingPolicy.strategies,(function(t,r,s){return a("div",{key:r,class:e.$style["strategy-item"]},[a("i",{staticClass:"el-icon-delete",class:e.$style["strategy-delete-icon"],on:{click:function(a){return e.deleteStrategy(t)}}}),e._v("\n      Strategy "+e._s(s+1)+":\n      "),a("strong",[e._v(e._s(r))]),a("br"),e._v("Scale Down Below:\n      "),a("strong",[e._v(e._s(t.scaleDownBelowPct)+e._s(e.isAutoScalePercentOrNot(t)))]),e._v("\n      / Scale Up Above:\n      "),a("strong",[e._v(e._s(t.scaleUpAbovePct)+e._s(e.isAutoScalePercentOrNot(t)))]),a("br"),e._v("\n      Rolling Count: "),a("strong",[e._v(e._s(t.rollingCount.count))]),e._v(" of "),a("strong",[e._v(e._s(t.rollingCount.of))]),a("br")])})),0),Object.keys(e.stage.scalingPolicy.strategies).length?e._e():a("div",[e._v("No strategies exist")]),a("div",{class:e.$style["vertical-spacing"]},[a("el-form-item",{attrs:{label:"Add New Strategy:"}},[a("el-select",{attrs:{placeholder:"Choose a strategy"},model:{value:e.newStrategy.reason,callback:function(t){e.$set(e.newStrategy,"reason",t)},expression:"newStrategy.reason"}},e._l(e.scalingReasons,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:"Scale Down Below:"}},[a("el-input-number",{attrs:{min:0,max:e.inputMax(e.newStrategy)},model:{value:e.newStrategy.scaleDownBelowPct,callback:function(t){e.$set(e.newStrategy,"scaleDownBelowPct",t)},expression:"newStrategy.scaleDownBelowPct"}}),e._v("\n      "+e._s(e.isAutoScalePercentOrNot(e.newStrategy))+"\n    ")],1),a("el-form-item",{attrs:{label:"Scale Up Above:"}},[a("el-input-number",{attrs:{min:0,max:e.inputMax(e.newStrategy)},model:{value:e.newStrategy.scaleUpAbovePct,callback:function(t){e.$set(e.newStrategy,"scaleUpAbovePct",t)},expression:"newStrategy.scaleUpAbovePct"}}),e._v("\n      "+e._s(e.isAutoScalePercentOrNot(e.newStrategy))+"\n    ")],1),a("el-form-item",{attrs:{label:"Rolling Count:"}},[a("el-input-number",{attrs:{min:0},model:{value:e.newStrategy.rollingCount.count,callback:function(t){e.$set(e.newStrategy.rollingCount,"count",t)},expression:"newStrategy.rollingCount.count"}}),e._v(" of\n      "),a("el-input-number",{attrs:{min:0},model:{value:e.newStrategy.rollingCount.of,callback:function(t){e.$set(e.newStrategy.rollingCount,"of",t)},expression:"newStrategy.rollingCount.of"}})],1)],1),a("div",{class:e.$style["vertical-spacing"]},[a("el-button",{class:e.$style["horizontal-spacing"],attrs:{type:"primary",disabled:!e.isAddEnabled},on:{click:function(t){return e.addNewStrategy(e.newStrategy)}}},[e._v("Add Strategy")])],1),a("el-checkbox",{model:{value:e.showHelp,callback:function(t){e.showHelp=t},expression:"showHelp"}},[e._v("Show Help")]),e.showHelp?a("div",[a("br"),e._m(0),e._m(1),e._m(2),e._m(3),e._m(4),e._m(5)]):e._e()],1)},F=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("u",[e._v("Reasons to scale up or down:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("strong",[e._v("DataDrop:")]),e._v(" scale up or down based on average data drop percentage across workers of this stage\n    ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("strong",[e._v("Memory:")]),e._v(" scale up or down based on average memory percentage used against memory asked, across workers of this stage\n    ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("strong",[e._v("Scale Down Below:")]),e._v(" - scale down when average percentage across workers dips below this value\n    ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("strong",[e._v("Scale Up Above:")]),e._v(" - scale up when average percentage across workers goes above this value\n    ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("strong",[e._v("Rolling Count:")]),e._v(" - scale up when average percentage across workers goes above this value\n    ")])}],A=a("e772"),T=a.n(A),I=a("4e4b"),E=a.n(I),D=a("eedf"),L=a.n(D),M=a("4e7f"),N={name:"JobClusterStageScalingStrategiesList",components:{[L.a.name]:L.a,[E.a.name]:E.a,[T.a.name]:T.a,[C.a.name]:C.a,[x.a.name]:x.a,[v.a.name]:v.a},props:{stage:{type:Object,required:!0},scalingReasons:{type:Array,required:!0}},data(){return{showHelp:!1,newStrategy:{reason:"",scaleDownBelowPct:void 0,scaleUpAbovePct:void 0,rollingCount:{count:12,of:20}}}},computed:{isAddEnabled(){return!!this.newStrategy.reason&&"undefined"!==typeof this.newStrategy.scaleDownBelowPct&&"undefined"!==typeof this.newStrategy.scaleUpAbovePct&&"undefined"!==typeof this.newStrategy.rollingCount.count&&"undefined"!==typeof this.newStrategy.rollingCount.of}},methods:{resetPolicy(){this.newStrategy={reason:"",scaleDownBelowPct:"",scaleUpAbovePct:"",rollingCount:{count:12,of:20}}},addNewStrategy(e){const t={reason:e.reason,scaleDownBelowPct:e.scaleDownBelowPct,scaleUpAbovePct:e.scaleUpAbovePct,rollingCount:{count:e.rollingCount.count,of:e.rollingCount.of}};this.stage.scalingPolicy.strategies[e.reason]=t,this.resetPolicy()},deleteStrategy(e){this.stage;this.$delete(this.stage.scalingPolicy.strategies,e.reason)},inputMax(e){return Object(M["a"])(e.reason)?100:1/0},isAutoScalePercentOrNot(e){return Object(M["a"])(e.reason)}}},R=N,U=a("2784");function q(e){this["$style"]=U["default"].locals||U["default"]}var B=Object($["a"])(R,O,F,!1,q,null,null),V=B.exports,z=a("c9d9"),K={name:"JobClusterStageScalingOptionsFormCard",components:{[b.a.name]:b.a,[m.a.name]:m.a,[u.a.name]:u.a,[l.a.name]:l.a,[n.a.name]:n.a,JobClusterStageScalingBasicOptions:k,JobClusterStageScalingStrategiesList:V},props:{stageNumber:{type:Number,required:!0},stage:{type:Object,required:!0},scalingReasons:{type:Array,required:!0}},data(){return{activeNames:["basic","listStrategies"],showBasicHelp:!1,showStrategiesHelp:!1,cachedScalingPolicy:null}},computed:{stageScalingPolicy:{get(){return this.stage.scalable&&!this.stage.scalingPolicy?"manualScaling":this.stage.scalable&&this.stage.scalingPolicy&&this.stage.scalingPolicy.enabled?"autoScaling":"noScaling"},set(e){const t=()=>{this.cachedScalingPolicy=this.stage.scalingPolicy?this.stage.scalingPolicy:this.cachedScalingPolicy,this.stage.scalingPolicy=null};switch(e){case"noScaling":this.stage.scalable=!1,t();break;case"manualScaling":this.stage.scalable=!0,t();break;case"autoScaling":this.stage.scalable=!0,this.stage.scalingPolicy=this.cachedScalingPolicy?this.cachedScalingPolicy:Object(z["e"])(),this.stage.scalingPolicy.enabled=!0;break;default:console.debug("JobClusterStageScalingOptionsCard: Scaling type not matched")}}}}},H=K,Q=Object($["a"])(H,r,s,!1,null,null,null);t["a"]=Q.exports},ed82:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v("Labels")]),a("div",[a("el-alert",{staticClass:"bottom-spacing",attrs:{title:"Labels are extra data about your Job Cluster or Job. You can add new Labels below.",type:"info","show-icon":""}}),e._l(e.labels,(function(t,r){return a("div",{key:t.name,class:e.$style["cluster-label-item"]},[a("JobClusterLabelsPair",{attrs:{"label-key":t.name,"label-value":t.value,"form-prop-path":e.formPropPath+"."+r+".value"},on:{"on-update-label":e.updatelabel,"on-delete-label":e.deleteLabel}})],1)})),a("JobClusterLabelsAddPair",{attrs:{labels:e.labels},on:{"on-add-new-label":e.addNewLabel}})],2)])},s=[],o=a("e04d"),n=a.n(o),i=a("a4c4"),l=a.n(i),c=a("c9d9"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"layout horizontal center",attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{size:"mini",value:e.labelKey,readonly:""}})],1),a("el-col",{attrs:{span:6}},[e.shouldSelectOptions?a("el-form-item",{class:e.$style["label-value-item"],attrs:{"label-width":"0",rules:e.inputRule,prop:e.formPropPath}},[a("el-select",{staticClass:"stretch-x",attrs:{size:"mini",placeholder:""},on:{change:function(t){return e.onChangeLabel(e.labelKey,e.localLabelValue)}},model:{value:e.localLabelValue,callback:function(t){e.localLabelValue=t},expression:"localLabelValue"}},e._l(e.jobLabelsJson[e.labelKey].defaultOptions,(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)],1):a("el-form-item",{class:e.$style["label-value-item"],attrs:{"label-width":"0",rules:e.inputRule,prop:e.formPropPath}},[a("el-input",{attrs:{size:"mini"},on:{change:function(t){return e.onChangeLabel(e.labelKey,e.localLabelValue)}},model:{value:e.localLabelValue,callback:function(t){e.localLabelValue=t},expression:"localLabelValue"}})],1)],1),a("el-col",{attrs:{span:12}},[e.isRequiredLabel?e._e():a("i",{staticClass:"el-icon-delete spacing-small",class:e.$style["delete-icon"],on:{click:function(t){return e.deleteLabel(e.labelKey,e.localLabelValue)}}}),e.jobLabelsJson[e.labelKey].recommended?a("el-tag",{staticClass:"spacing-small",attrs:{type:"warning"}},[e._v("Recommended")]):e._e(),e.isRequiredLabel?a("el-tag",{staticClass:"spacing-small",attrs:{type:"danger"}},[e._v("Required")]):e._e(),a("span",{staticClass:"spacing-small"},[e._v(e._s(e.jobLabelsJson[e.labelKey].description))])],1)],1)},d=[],m=a("3787"),f=a.n(m),b=a("8bbc"),p=a.n(b),h=a("e772"),g=a.n(h),v=a("4e4b"),_=a.n(v),C=a("f3ad"),y=a.n(C),S=a("c2cc"),j=a.n(S),x=a("0f6c"),J=a.n(x),w={name:"JobClusterLabelsPair",components:{[J.a.name]:J.a,[j.a.name]:j.a,[y.a.name]:y.a,[_.a.name]:_.a,[g.a.name]:g.a,[p.a.name]:p.a,[f.a.name]:f.a},props:{labelKey:{type:String,required:!0},labelValue:{type:String,required:!0},formPropPath:{type:String,default:null}},data(){return{jobLabelsJson:c["j"],localLabelValue:this.labelValue}},computed:{shouldSelectOptions(){return c["j"][this.labelKey].defaultOptions},isRequiredLabel(){return c["j"][this.labelKey].required},inputRule(){return{required:this.isRequiredLabel,message:"label value required",trigger:this.shouldSelectOptions?"change":"blur"}}},methods:{deleteLabel(e,t){const a={name:e,value:t};this.$emit("on-delete-label",{label:a})},onChangeLabel(e,t){const a={name:e,value:t};this.$emit("on-update-label",{label:a})}}},$=w,P=a("ca43"),k=a("2877");function O(e){this["$style"]=P["default"].locals||P["default"]}var F=Object(k["a"])($,u,d,!1,O,null,null),A=F.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-divider"),a("el-row",{staticClass:"layout horizontal center",attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[a("el-select",{staticClass:"stretch-x",attrs:{size:"mini",placeholder:"Select a new label to add"},model:{value:e.labelKey,callback:function(t){e.labelKey=t},expression:"labelKey"}},e._l(e.labelsNotYetAdded,(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)],1),a("el-col",{attrs:{span:6}},[e.shouldRenderSelectBox?a("el-select",{staticClass:"stretch-x",attrs:{size:"mini",placeholder:"Select label value"},model:{value:e.labelValue,callback:function(t){e.labelValue=t},expression:"labelValue"}},e._l(e.labelValueOptions,(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1):a("el-input",{attrs:{size:"mini",placeholder:"Input label value"},model:{value:e.labelValue,callback:function(t){e.labelValue=t},expression:"labelValue"}})],1),a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{size:"mini",type:"primary",disabled:!e.labelKey||!e.labelValue},on:{click:e.addNewLabel}},[e._v("Add New Label")])],1)],1)],1)},I=[],E=a("7bc3"),D=a.n(E),L=a("eedf"),M=a.n(L),N={name:"JobClusterLabelsAddPair",components:{[J.a.name]:J.a,[j.a.name]:j.a,[M.a.name]:M.a,[y.a.name]:y.a,[_.a.name]:_.a,[g.a.name]:g.a,[D.a.name]:D.a},props:{labels:{type:Array,required:!0}},data(){return{labelKey:"",labelValue:""}},computed:{labelsNotYetAdded(){return Object.keys(c["j"]).filter(e=>!this.labels.some(t=>t.name===e)).map(e=>({name:e,value:""}))},shouldRenderSelectBox(){const e=c["j"][this.labelKey];return!(!e||!e.defaultOptions)},labelValueOptions(){const e=c["j"][this.labelKey];return e&&e.defaultOptions?e.defaultOptions:[]}},methods:{addNewLabel(){const e={name:this.labelKey,value:this.labelValue};this.reset(),this.$emit("on-add-new-label",{label:e})},reset(){this.labelKey="",this.labelValue=""}}},R=N,U=Object(k["a"])(R,T,I,!1,null,null,null),q=U.exports,B={name:"JobClusterLabelsFormCard",components:{[l.a.name]:l.a,[n.a.name]:n.a,JobClusterLabelsPair:A,JobClusterLabelsAddPair:q},props:{labels:{type:Array,required:!0},userName:{type:String,required:!0},userEmail:{type:String,required:!0},artifactFile:{type:String,default:null},formPropPath:{type:String,required:!0}},created(){this.addRecommendedAndRequiredFields()},methods:{addRecommendedAndRequiredFields(){const e=c["j"],t=this.labels,a=[],r=this.artifactFile||"",s=r.substring(0,r.lastIndexOf(".")),o=s.substring(s.lastIndexOf("-")+1);t.some(e=>"_mantis.user"===e.name)||a.push({name:"_mantis.user",value:this.userName}),t.some(e=>"_mantis.ownerEmail"===e.name)||a.push({name:"_mantis.ownerEmail",value:this.userEmail}),t.some(e=>"_mantis.artifact"===e.name)||a.push({name:"_mantis.artifact",value:s}),t.some(e=>"_mantis.artifact.version"===e.name)||a.push({name:"_mantis.artifact.version",value:o});const n=[...this.labels,...a];Object.keys(e).forEach(t=>{(e[t].recommended||e[t].required)&&(n.some(e=>e.name===t)||a.push({name:t,value:""}))}),a.forEach(e=>{this.labels.push(e)})},addNewLabel({label:e}){this.labels.push(e)},updatelabel({label:e}){const t=this.labels.findIndex(t=>t.name===e.name);t>=0&&(this.labels[t].value=e.value)},deleteLabel({label:e}){const t=this.labels.findIndex(t=>t.name===e.name);t>=0?this.labels.splice(t,1):console.debug("LabelsCard: Unable to find label to delete")}}},V=B,z=a("0170");function K(e){this["$style"]=z["default"].locals||z["default"]}var H=Object(k["a"])(V,r,s,!1,K,null,null);t["a"]=H.exports},f290:function(e,t,a){e.exports={"strategy-item":"JobClusterStageScalingStrategiesList_strategy-item_mWM8e","horizontal-spacing":"JobClusterStageScalingStrategiesList_horizontal-spacing_1WeNs","vertical-spacing":"JobClusterStageScalingStrategiesList_vertical-spacing_1gMwO","strategy-delete-icon":"JobClusterStageScalingStrategiesList_strategy-delete-icon_1XE6q"}},f2fa:function(e,t,a){"use strict";var r=a("04f2"),s=a.n(r);a.d(t,"default",(function(){return s.a}))},f494:function(e,t,a){e.exports=function(e){var t={};function a(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(r,s,function(t){return e[t]}.bind(null,s));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/dist/",a(a.s=116)}({0:function(e,t,a){"use strict";function r(e,t,a,r,s,o,n,i){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=a,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),n?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},c._ssrRegister=l):s&&(l=i?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}a.d(t,"a",(function(){return r}))},116:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"el-radio",class:[e.border&&e.radioSize?"el-radio--"+e.radioSize:"",{"is-disabled":e.isDisabled},{"is-focus":e.focus},{"is-bordered":e.border},{"is-checked":e.model===e.label}],attrs:{role:"radio","aria-checked":e.model===e.label,"aria-disabled":e.isDisabled,tabindex:e.tabIndex},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.stopPropagation(),t.preventDefault(),e.model=e.isDisabled?e.model:e.label}}},[a("span",{staticClass:"el-radio__input",class:{"is-disabled":e.isDisabled,"is-checked":e.model===e.label}},[a("span",{staticClass:"el-radio__inner"}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],ref:"radio",staticClass:"el-radio__original",attrs:{type:"radio","aria-hidden":"true",name:e.name,disabled:e.isDisabled,tabindex:"-1"},domProps:{value:e.label,checked:e._q(e.model,e.label)},on:{focus:function(t){e.focus=!0},blur:function(t){e.focus=!1},change:[function(t){e.model=e.label},e.handleChange]}})]),a("span",{staticClass:"el-radio__label",on:{keydown:function(e){e.stopPropagation()}}},[e._t("default"),e.$slots.default?e._e():[e._v(e._s(e.label))]],2)])},s=[];r._withStripped=!0;var o=a(4),n=a.n(o),i={name:"ElRadio",mixins:[n.a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElRadio",props:{value:{},label:{},disabled:Boolean,name:String,border:Boolean,size:String},data:function(){return{focus:!1}},computed:{isGroup:function(){var e=this.$parent;while(e){if("ElRadioGroup"===e.$options.componentName)return this._radioGroup=e,!0;e=e.$parent}return!1},model:{get:function(){return this.isGroup?this._radioGroup.value:this.value},set:function(e){this.isGroup?this.dispatch("ElRadioGroup","input",[e]):this.$emit("input",e),this.$refs.radio&&(this.$refs.radio.checked=this.model===this.label)}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},radioSize:function(){var e=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._radioGroup.radioGroupSize||e},isDisabled:function(){return this.isGroup?this._radioGroup.disabled||this.disabled||(this.elForm||{}).disabled:this.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this.isGroup&&this.model!==this.label?-1:0}},methods:{handleChange:function(){var e=this;this.$nextTick((function(){e.$emit("change",e.model),e.isGroup&&e.dispatch("ElRadioGroup","handleChange",e.model)}))}}},l=i,c=a(0),u=Object(c["a"])(l,r,s,!1,null,null,null);u.options.__file="packages/radio/src/radio.vue";var d=u.exports;d.install=function(e){e.component(d.name,d)};t["default"]=d},4:function(e,t){e.exports=a("d010")}})},f6ca:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v("Mantis Artifact Version and Filename")]),a("div",[e.latestArtifact?a("div",[a("el-form-item",{attrs:{label:"Last Artifact File"}},[e._v(e._s(e.formatFileNameFromPath(e.latestArtifact.url)))]),a("el-form-item",{attrs:{label:"Last Version"}},[e._v(e._s(e.latestArtifact.version))])],1):e._e(),a("el-form-item",{attrs:{label:"Artifact File",required:""}},[e.isLoadingJobArtifacts?a("span",[a("i",{staticClass:"el-icon-loading"}),e._v(" Loading Artifacts From S3...\n      ")]):a("div",[a("el-select",{staticClass:"stretch-x",attrs:{value:e.artifactName,placeholder:"Please select an artifact",filterable:""},on:{change:e.onArtifactSelect}},e._l(e.availableJobArtifacts,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1),e.latestArtifact?a("el-button",{staticClass:"top-spacing-small",attrs:{type:"primary",size:"mini"},on:{click:e.autoSelectTheLastArtifactFile}},[e._v("Auto-select the Last Artifact File")]):e._e()],1)]),a("el-form-item",{attrs:{label:"Version",required:""}},[a("el-input",{attrs:{value:e.version},on:{input:e.onVersionInput}})],1),a("el-form-item",{attrs:{label:"Upload File"}},[a("el-switch",{model:{value:e.showUploadControls,callback:function(t){e.showUploadControls=t},expression:"showUploadControls"}})],1),e.showUploadControls?a("el-form-item",{directives:[{name:"loading",rawName:"v-loading",value:e.isUploadingJobArtifact,expression:"isUploadingJobArtifact"}]},[a("el-upload",{attrs:{drag:"",action:"none",accept:".json, .zip","file-list":e.fileList,"http-request":e.uploadFile,multiple:""}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("\n          Drop both json and zip file here or\n          "),a("em",[e._v("click to upload them individually")])])])],1):e._e()],1)])},s=[],o=a("3787"),n=a.n(o),i=a("89a9"),l=a.n(i),c=a("e772"),u=a.n(c),d=a("4e4b"),m=a.n(d),f=a("b35b"),b=a.n(f),p=a("f3ad"),h=a.n(p),g=a("eedf"),v=a.n(g),_=a("a4c4"),C=a.n(_),y=a("2966"),S={name:"JobClusterArtifactFormCard",components:{[C.a.name]:C.a,[v.a.name]:v.a,[h.a.name]:h.a,[b.a.name]:b.a,[m.a.name]:m.a,[u.a.name]:u.a,[l.a.name]:l.a,[n.a.name]:n.a},props:{artifactName:{type:String,required:!0},version:{type:String,required:!0},availableJobArtifacts:{type:Array,required:!0},isLoadingJobArtifacts:{type:Boolean,required:!0},isUploadingJobArtifact:{type:Boolean,required:!0},latestArtifact:{type:Object,default:null}},data(){return{fileList:[],showUploadControls:!1}},methods:{onArtifactSelect(e){this.$emit("update:artifactName",e),this.$emit("on-artifact-select",e)},autoSelectTheLastArtifactFile(){this.onArtifactSelect(Object(y["a"])(this.latestArtifact.url))},onVersionInput(e){this.$emit("update:version",e)},uploadFile({file:e}){this.$emit("on-upload-file",{file:e})},formatFileNameFromPath:y["a"]}},j=S,x=a("2877"),J=Object(x["a"])(j,r,s,!1,null,null,null);t["a"]=J.exports},fc04:function(e,t,a){"use strict";var r=a("5046"),s=a.n(r);a.d(t,"default",(function(){return s.a}))},fca5:function(e,t,a){"use strict";var r=a("8350"),s=a.n(r);a.d(t,"default",(function(){return s.a}))}}]);
//# sourceMappingURL=clusters.b4119b18.js.map